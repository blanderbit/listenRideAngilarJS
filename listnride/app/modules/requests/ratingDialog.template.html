<md-dialog class="lnr-rating-dialog">

  <md-toolbar class="md-accent">
    <div class="md-toolbar-tools" layout-align="center center">
      <md-button class="md-icon-button">
        <md-icon></md-icon>
      </md-button>
      <span flex></span>
      <h2 class="md-headline">{{ 'requests.rating' | translate }}</h2>
      <span flex></span>
      <md-button class="md-icon-button" ng-click="ratingDialog.hide()" analytics-on analytics-category="button" analytics-event="clicked" analytics-label="close">
        <md-icon md-svg-src="app/assets/ui_icons/icn_close_24.svg" aria-label="Close dialog"></md-icon>
      </md-button>
    </div>
  </md-toolbar>

  <md-dialog-content layout="column">
    <div class="md-dialog-content" layout="column">
      <h3 class="md-subhead lnr-center">How did you like the overall experience?</h3>
      <span class="md-body-1 lnr-center">{{ 'requests.ratings.description' | translate }}</span>
      <div layout="column" layout-align="center center">
        <input-stars max="5" ng-model="ratingDialog.rating"></input-stars>
        <span class="md-body-2 lnr-center" translate="requests.ratings.{{ratingDialog.rating}}"></span>
      </div>

      <form name="ratingDialog.ratingForm">
        <div layout="column" ng-if="ratingDialog.request.ride.family != 12">
          <md-input-container class="md-input-container-compact">
            <textarea name="message" placeholder="{{ 'requests.ratings.rating_text_lister' | translate }}" ng-model="ratingDialog.message" md-maxlength="800" minlength="60" required rows="3" md-select-on-focus></textarea>
            <div ng-messages="ratingDialog.ratingForm.message.$error" role="alert">
              <div ng-message="required">This is required.</div>
              <div ng-message="minlength">Please write a few more words (min. 60 words)</div>
            </div>
          </md-input-container>
        </div>
        <div class="md-dialog-buttons" layout="row" layout-align="end">
          <md-button ng-disabled="!ratingDialog.ratingForm.$valid;" ng-click="ratingDialog.rate()" class="md-raised md-primary" analytics-on analytics-category="button" analytics-event="clicked" analytics-label="send">{{ 'shared.send' | translate }}</md-button>
        </div>
      </form>
    </div>
  </md-dialog-content>

</md-dialog>