<md-tab
  class="categories"
  label="{{ 'booking.overview.tab' | translate }} {{ overview.parent.tabCompleted(3) }}"
  layout="row"
  ng-disabled="overview.parent.tabsDisabled"
  md-on-select="overview.parent.onTabChanged()">
  <div class="spacer-xs"></div>
  <md-content layout="column">
    <div class="tab-content" style="min-height: 450px;" layout-align="space-between none" layout-padding>
      <div class="lnr-list-form" ng-hide="overview.parent.booked" layout="column">
        <h2 class="md-title lnr-no-margin">{{ 'booking.overview.bike-rental' | translate }}</h2>
        <div class="spacer-xs"></div>
      	<div layout="row" layout-align="space-between none" layout-wrap>
          <div flex="40" flex-xs="100">
            <a ui-sref="bike({bikeId: overview.parent.bike.id})" target="_blank">
              <img flex="100" ng-src="{{ overview.parent.bike.image_file_1.image_file_1.small.url }}" />
            </a>
          </div>
          <div flex="30" flex-xs="60" layout="column">
            <a class="md-title lnr-black" ui-sref="bike({bikeId: overview.parent.bike.id})" target="_blank">{{ overview.parent.bike.brand }}, {{ overview.parent.bikeCategory }}</a>
            <br>
            <div layout="row" layout-align="space-between none">
              <span flex="45" class="md-body-2">{{ 'settings.from' | translate }}</span>
              <span flex="55" class="md-body-1 lnr-lh-body-2">{{ overview.parent.startDate | date }}</span>
            </div>
            <div layout="row" layout-align="space-between none">
              <span flex="45" class="md-body-2">{{ 'settings.to' | translate }}</span>
              <span flex="55" class="md-body-1 lnr-lh-body-2">{{ overview.parent.endDate | date }}</span>
            </div>
            <div layout="row" layout-align="space-between none">
              <span flex="45" class="md-body-2">{{ 'booking.overview.size' | translate }}</span>
              <span flex="55" class="md-body-1 lnr-lh-body-2">{{ overview.parent.bikeSize }}</span>
            </div>
            <div layout="row" layout-align="space-between none">
              <span flex="45" class="md-body-2">{{ 'booking.overview.location' | translate }}</span>
              <span flex="55" class="md-body-1 lnr-lh-body-2">{{ overview.parent.bike.city }}</span>
            </div>
          </div>
          <div flex="20">
            <p class="md-subhead lnr-bold lnr-right" style="margin: 0;">{{ overview.parent.subtotal | currency:"€":2 }}</p>
          </div>
        </div>
        <div class="spacer"></div>
        <md-divider></md-divider>
        <div class="spacer-xs"></div>
        <div layout="row" layout-xs="column" layout-align="space-between none">
          <div flex="33" flex-xs="100">
            <p class="md-title">{{ 'booking.overview.invoice-address' | translate }}</p>
            <p class="md-body-1" ng-if="!overview.parent.user.locations.billing">
              <span class="lnr-bold">
                {{ overview.parent.user.first_name + " " + overview.parent.user.last_name }}
              </span><br>
              {{ overview.parent.user.street }}<br>{{ overview.parent.user.zip + " " + overview.parent.user.city }}<br>{{ overview.parent.user.country }}
            </p>
            <p class="md-body-1" ng-if="overview.parent.user.locations.billing">
              <span class="lnr-bold" ng-if="!overview.parent.user.locations.billing.name">
                {{ overview.parent.user.locations.billing.first_name + " " + overview.parent.user.locations.billing.last_name }}
              </span>
              <span class="lnr-bold" ng-if="overview.parent.user.locations.billing.name">
                {{ overview.parent.user.locations.billing.name }}
              </span>
              <br>
              {{ overview.parent.user.locations.billing.street }}<br>
              {{ overview.parent.user.locations.billing.zip + " " + overview.parent.user.locations.billing.city }}<br>
              {{ overview.parent.user.locations.billing.country }}
            </p>
          </div>
          <div ng-hide show-xs>
            <div class="spacer-xs"></div>
            <md-divider></md-divider>
            <div class="spacer-xs"></div>
          </div>
          <div flex="33" flex-xs="100">
            <p class="md-title">{{ 'booking.overview.payment' | translate }}</p>
            <div ng-if="overview.parent.user.current_payment_method.type == 1">
              <p class="md-body-1">
                <span class="lnr-bold">{{ overview.parent.user.current_payment_method.family.split(" ")[0] }}</span><br>
                **** **** **** {{ overview.parent.user.current_payment_method.family.split(" ")[1] }}
              </p>
            </div>
            <div ng-if="overview.parent.user.current_payment_method.type == 2">
              <p class="md-body-1">
                <span class="lnr-bold">Paypal</span><br>
                {{ overview.parent.user.current_payment_method.details }}
              </p>
            </div>
          </div>
          <div ng-hide show-xs>
            <div class="spacer-xs"></div>
            <md-divider></md-divider>
            <div class="spacer-xs"></div>
          </div>
          <div flex="33" flex-xs="100">
            <p class="md-title">{{ 'booking.overview.redeem-voucher' | translate }}</p>
            <div layout="row" layout-xs="column">
              <md-input-container flex-gt-xs="70">
                <label>{{ 'settings.voucher-code' | translate }}</label>
                <input ng-model="overview.parent.voucherCode"></input>
              </md-input-container>
              <md-input-container layout="row" flex-gt-xs="30" flex="100">
              <md-button
                flex
                ng-disabled="!overview.parent.voucherCode"
                class="md-raised md-primary lnr-btn-inline lnr-btn-mobile booking__voucher-btn"
                ng-click="overview.parent.addVoucher()"
              >
                {{ 'booking.overview.add' | translate }}
              </md-button>
              </md-input-container>
            </div>
          </div>
        </div>
      </div>

      <div class="lnr-list-form" ng-hide="!overview.parent.booked">
        <div ng-hide="!overview.parent.booked" layout-align="center center" flex>
          <br><br><br><br>
          <h2 class="md-headline lnr-center lnr-green-text">{{ 'booking.overview.success-header' | translate }}</h2>
          <p class="md-subhead lnr-center">{{ 'booking.overview.success-subheader' | translate }}</p>
          <br><br>
          <div layout="row" layout-align="center center">
            <md-button class="md-raised md-primary md-lrg" onClick="window.close()">Close</md-button>
          </div>
        </div>
      </div>
    </div>
  </md-content>
</md-tab>
