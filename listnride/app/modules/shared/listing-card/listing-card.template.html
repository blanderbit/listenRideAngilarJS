<md-card
  class="lnr-bike-card"
  ng-class="{
    'lnr-unavailable': !listingCard.available,
    'lnr-checked-card': listingCard.isChecked,
    'lnr-check-mode': listingCard.isCheckModeOn
  }">

  <div
    class="lnr-bike-card__backdrop"
    ng-if="listingCard.isCheckModeOn"
    ng-click="listingCard.checkBike($event, listingCard.bikeId)">
  </div>

  <div class="bg lnr-preload-bg">
    <status-labels
      ng-if="listingCard.showLabels"
      bike="listingCard.bike">
    </status-labels>
    <md-checkbox
      ng-if="listingCard.isSelectable"
      ng-checked="listingCard.isChecked"
      ng-click="listingCard.checkBike($event, listingCard.bikeId)"
      md-no-ink
      aria-label="Merging Mode"
      class="lnr-bike-card__merge-checkbox md-checkbox__hide-label lnr-md-no-focused"
    >
    </md-checkbox>

  </div>

  <img
    class="md-card-image"
    ng-click="listingCard.view(listingCard.bikeId)"
    ng-src="{{ ::listingCard.imageUrl }}"
    alt="{{ ::listingCard.brand }} - {{ ::listingCard.name }}">

  <md-card-title layout="row">
    <md-icon
      ng-if="::listingCard.category"
      class="lnr-icn-lrg md-color-foreground"
      md-svg-src="app/assets/ui_icons/biketype_{{ ::listingCard.category | limitTo: 1 }}.svg">
    </md-icon>

    <md-card-title-text flex="65" ng-click="listingCard.view(listingCard.bikeId)" class="lnr-ml lnr-bike-title" layout="column" layout-align="space-around start">
      <span class="md-subhead">{{ ::listingCard.brand }}, {{ ::listingCard.category | category | translate }}</span>
      <span>{{ ::listingCard.name }}</span>
    </md-card-title-text>

    <div layout="column" layout-align="space-around center" flex="none">
      <span class="md-headline">{{ ::listingCard.price | number }}€</span>
      <span>{{ 'shared.per-day' | translate }}</span>
    </div>
  </md-card-title>

  <md-divider></md-divider>

  <div class="bike-actions" layout="row" layout-align="space-between center">
    <md-button
      md-no-ink
      flex
      class="md-icon-button md-primary"
      ng-click="listingCard.edit(listingCard.bikeId)">
      <md-tooltip>{{'listingCard.edit-bike' | translate}}</md-tooltip>
      <md-icon md-svg-icon="app/assets/ui_icons/pencil-edit-button.svg"></md-icon>
    </md-button>

    <md-button
      md-no-ink
      flex
      class="md-icon-button"
      ng-disabled="listingCard.deactivated"
      ng-click="listingCard.deactivate()"
      ng-if="listingCard.available">
      <md-tooltip>{{ 'listingCard.deactivate' | translate }}</md-tooltip>
      <md-icon md-svg-icon="app/assets/ui_icons/turn-visibility-off-button.svg"></md-icon>
    </md-button>

    <md-button
      md-no-ink
      flex
      class="md-icon-button md-primary"
      ng-disabled="listingCard.disableActivate"
      ng-click="listingCard.onActivateClick()"
      ng-if="!listingCard.available">
      <md-tooltip>{{ 'listingCard.activate' | translate }}</md-tooltip>
      <md-icon md-svg-icon="app/assets/ui_icons/visibility-button.svg"></md-icon>
    </md-button>

    <md-button
      md-no-ink
      flex
      class="md-icon-button md-primary lnr-md-no-focused"
      ng-click="listingCard.changeAvailability(listingCard.bike, $event)">
      <md-tooltip>{{ 'availability.availability' | translate }}</md-tooltip>
      <md-icon md-svg-icon="app/assets/ui_icons/lnr_access_time.svg"></md-icon>
    </md-button>

    <md-button
      md-no-ink
      flex
      class="md-icon-button"
      ng-disabled="listingCard.bike.is_cluster"
      ng-click="listingCard.duplicate(listingCard.bike, $event)">
      <md-tooltip>{{'listings.duplicate.duplicate' | translate}}</md-tooltip>
      <md-icon md-svg-icon="app/assets/ui_icons/duplicate-image.svg"></md-icon>
    </md-button>

    <md-button
      class="md-icon-button md-primary"
      md-no-ink flex class="md-warn"
      ng-disabled="listingCard.disableDelete"
      ng-click="listingCard.delete(listingCard.bike.id, $event)">
      <md-tooltip>{{'listingCard.delete-bike' | translate}}</md-tooltip>
      <md-icon md-svg-icon="app/assets/ui_icons/trash-can.svg"></md-icon>
    </md-button>
  </div>
</md-card>
