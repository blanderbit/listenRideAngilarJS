<md-content class="single-column"> 
  <div
    id="hero-shot"
    class="lnr-preload-bg"
    style="{{'background-image: url(' + bike.data.image_file_1.image_file_1.large.url + ')'}};"
    layout="row"
    layout-align="start end"
    ng-click="bike.showGalleryDialog($event)"
  >
    <md-button
      class="md-raised"
      ng-click="bike.showGalleryDialog($event)"
      md-no-ink
    >
      {{ 'bike.view-pictures' | translate }}
    </md-button>
  </div>

  <div class="content" layout="column">
    <div flex layout="row" layout-xs="column" layout-align="space-between none" layout-gt-sm-align="start none" layout-padding>
      <div flex-sm="55" layout="row" layout-align="start center">
        <md-icon ng-if="bike.data.category" class="lnr-margin-right lnr-icn-mlrg md-color-foreground lnr-no-padding" md-svg-src="app/assets/ui_icons//biketype_{{ bike.data.category | limitTo: 1 }}.svg"></md-icon>
        <div flex layout="column">
          <h1 class="md-title">{{ bike.data.brand }}, {{ bike.category }}</h1>
          <h2 class="md-subhead">{{ bike.data.name }}</h2>
        </div>
      </div>
      <div flex-sm="45" flex-gt-sm="30" layout="row" layout-align="space-between center">
          <div flex="30" layout="column" layout-align="center center">
            <div layout="row">
              <span class="md-headline">{{ bike.data.prices[0].price | number : 0 }}€</span>
            </div>
            <span class="md-caption" ng-if="bike.data.family != 9 && bike.data.family != 11">{{ 'bike.per-day' | translate }}</span>
            <span class="md-caption" ng-if="bike.data.family == 9 || bike.data.family == 11"><= 4h</span>
          </div>
          <div flex="30" layout="column" layout-align="center center">
            <div layout="row">
              <span class="md-headline">{{ bike.data.prices[1].price | number : 0 }}€</span>
              <span class="md-caption per-day" layout layout-align="end end">&nbsp;{{ 'shared.pd' | translate }}</span>
            </div>
            <span class="md-caption" ng-if="bike.data.family != 9 && bike.data.family != 11">{{ 'bike.from-2-days' | translate }}</span>
            <span class="md-caption" ng-if="bike.data.family == 9 || bike.data.family == 11">> 4h</span>
          </div>
          <div flex="30" layout="column" layout-align="center center" class="lnr-dark-green-text">
            <div layout="row">
              <span class="md-headline">{{ bike.data.prices[6].price | number : 0 }}€</span>
              <span class="md-caption per-day" layout layout-align="end end">&nbsp;{{ 'shared.pd' | translate }}</span>
            </div>
            <span class="md-caption"  >{{ 'bike.from-week' | translate }}</span>
          </div>
      </div>
    </div>

    <md-button class="md-raised md-primary lnr-margin-lrg" hide show-xs show-sm ng-click="bike.showCalendarDialog()">
      {{ 'bike.rent-bike' | translate }}
    </md-button>

    <md-divider></md-divider>

    <div flex layout="row">
      <div flex layout="column" layout-padding>
        <div layout="row" layout-xs="column">
          <div flex-gt-xs="25">
            <h3 class="md-body-2">{{ 'forms.description' | translate }}</h3>
          </div>
          <div flex-gt-xs>
            <p class="md-body-1 white-space-pre-line">{{ bike.data.description }}</p>
          </div>
        </div>

        <div layout="row" layout-xs="column">
          <div flex-gt-xs="25">
            <h3 class="md-body-2">{{ 'forms.city' | translate }}</h3>
          </div>
          <div flex-gt-xs>
            <p class="md-body-1">{{ bike.data.city }}, {{ bike.data.country }}</p>
          </div>
        </div>

        <div layout="row" layout-xs="column">
          <div flex-gt-xs="25">
            <h3 class="md-body-2">{{ 'list.details.size' | translate }}</h3>
          </div>
          <div flex-gt-xs>
            <p class="md-body-1">{{ 'shared.for' | translate }} <strong>{{ bike.data.size }}</strong> - <strong>{{ bike.data.size + 10 }}</strong> cm</p>
          </div>
        </div>

        <div layout="row" layout-xs="column" layout-align-gt-xs="center center">
          <div flex-gt-xs="25">
            <h3 class="md-body-2">{{ 'list.accessories.label' | translate }}</h3>
          </div>
          <div flex-gt-xs>
            <md-icon class="lnr-icn-md lnr-margin-right" ng-if="bike.data.has_lock" md-svg-src="app/assets/ui_icons//accessoire_lock.svg">
              <md-tooltip md-direction="top">{{ 'list.accessories.lock' | translate }}</md-tooltip>
            </md-icon>
            <md-icon class="lnr-icn-md lnr-margin-right" ng-if="bike.data.has_helmet" md-svg-src="app/assets/ui_icons//accessoire_helmet.svg">
              <md-tooltip md-direction="top">{{ 'list.accessories.helmet' | translate }}</md-tooltip>
            </md-icon>
            <md-icon class="lnr-icn-md lnr-margin-right" ng-if="bike.data.has_lights" md-svg-src="app/assets/ui_icons//accessoire_lights.svg">
              <md-tooltip md-direction="top">{{ 'list.accessories.lights' | translate }}</md-tooltip>
            </md-icon>
            <md-icon class="lnr-icn-md lnr-margin-right" ng-if="bike.data.has_basket" md-svg-src="app/assets/ui_icons//accessoire_basket.svg">
              <md-tooltip md-direction="top">{{ 'list.accessories.basket' | translate }}</md-tooltip>
            </md-icon>
            <md-icon class="lnr-icn-md lnr-margin-right" ng-if="bike.data.has_trailer" md-svg-src="app/assets/ui_icons//accessoire_trailer.svg">
              <md-tooltip md-direction="top">{{ 'list.accessories.trailer' | translate }}</md-tooltip>
            </md-icon>
            <md-icon class="lnr-icn-md" ng-if="bike.data.has_childseat" md-svg-src="app/assets/ui_icons//accessoire_childseat.svg">
              <md-tooltip md-direction="top">{{ 'list.accessories.childseat' | translate }}</md-tooltip>
            </md-icon>
          </div>
        </div>

        <div layout="row" layout-xs="column">
          <div flex-gt-xs="25">
            <h3 class="md-body-2">{{ 'list.details.label' | translate }}</h3>
          </div>
          <div class="lnr-compact-details" layout="column" flex-gt-xs>
            <div layout="row" layout-align="start center">
              <p flex="20" class="md-body-2">{{ 'list.details.brand' | translate }}</p>
              <p class="md-body-1">{{ bike.data.brand }}</p>
            </div>
            <div layout="row" layout-align="start center">
              <p flex="20" class="md-body-2">{{ 'list.category.label' | translate }}</p>
              <p class="md-body-1">{{ bike.data.category | category | translate  }}</p>
            </div>
            <div layout="row" layout-align="start center">
              <p flex="20" class="md-body-2">{{ 'list.details.frame_size' | translate }}</p>
              <p class="md-body-1">{{ bike.data.frame_size }}</p>
            </div>
            <div ng-show="bike.owner">
              <div layout="row" layout-align="start center">
                <p flex="20" class="md-body-2">{{ 'list.details.bicycle_number' | translate }}</p>
                <p class="md-body-1">{{ bike.data.bicycle_number}}</p>
              </div>
              <div layout="row" layout-align="start center">
                <p flex="20" class="md-body-2">{{ 'list.details.frame_number' | translate }}</p>
                <p class="md-body-1">{{ bike.data.frame_number}}</p>
              </div>
              <div layout="row" layout-align="start center">
                <p flex="20" class="md-body-2">{{ 'list.details.details' | translate }}</p>
                <p class="md-body-1">{{ bike.data.details}}</p>
              </div>
            </div>
          </div>
        </div>

        <div layout="row" layout-xs="column">
          <div flex-gt-xs="25">
            <h3 class="md-body-2">{{ 'shared.lister' | translate }}</h3>
          </div>
          <div flex-gt-xs layout="row" layout-align="start center">
            <a ui-sref="user({userId: bike.data.user.id})">
              <img class="lnr-profile-md lnr-margin-right lnr-clickable" ng-src="{{bike.data.user.profile_picture.profile_picture.url}}"></img>
            </a>
            <p ng-if="!bike.data.business" class="md-subhead lnr-margin-left lnr-clickable" flex-offset="2" ui-sref="user({userId: bike.data.user.id})">{{bike.data.user.first_name}}</p>
            <p ng-if="bike.data.business" class="md-subhead lnr-margin-left lnr-clickable" flex-offset="2" ui-sref="user({userId: bike.data.user.id})">{{bike.data.business.company_name}}</p>
          </div>
        </div>

        <md-divider class="lnr-no-padding lnr-margin-lrg" ng-if="bike.data.ratings.length > 0"></md-divider>
        
        <!-- reviews -->
        <div layout="row" layout-xs="column" ng-if="bike.data.ratings.length > 0">
          <div flex-gt-xs="25">
            <p class="md-body-2">{{ 'shared.reviews' | translate }}</p>
          </div>

          <div flex-gt-xs>
            <rating ng-repeat="rating in bike.data.ratings" data="rating" index="$index" show-all="bike.showAll"></rating>
            <div layout="row" layout-align="end center">
            <md-button class="md-no-focus" ng-if="bike.data.ratings.length > 3 && false === bike.showAll" ng-click="bike.showAll = true">{{'shared.show-more' | translate}} {{'shared.reviews' | translate}}</md-button>
            <md-button class="md-no-focus" ng-if="bike.data.ratings.length > 3 && true === bike.showAll" ng-click="bike.showAll = false">{{'shared.show-less' | translate}} {{'shared.reviews' | translate}}</md-button>
            </div>
          </div>
        </div>
        <!-- end reviews -->

      </div>

      <md-divider hide-sm hide-xs class="lnr-margin-left lnr-margin-right"></md-divider>

      <div flex="30" hide-sm hide-xs>
        <calendar ng-if="!bike.mobileCalendar()" bike-id="bike.data.id" price-half-day="bike.data.price_half_daily" price-day="bike.data.price_daily" price-week="bike.data.price_weekly" prices="bike.data.prices" bike-family="bike.data.family" requests="bike.data.requests" user-id="bike.data.user.id"></calendar>
      </div>
    </div>
   
  </div>

  <ng-map
    ng-if="bike.data !== undefined"
    default-style="false"
    style="height: 350px"
    center="[{{bike.mapOptions.lat}},{{bike.mapOptions.lng}}]"
    zoom="{{bike.mapOptions.zoom}}"
    class="lnr-no-events"
  >
    <shape name="circle" no-watcher="true"
      stroke-color="#7AB2F8"
      stroke-opacity="1"
      stroke-weight="1"
      fill-color="#7CB3FF"
      fill-opacity="0.35"
      center="[{{bike.data.lat_rnd}},{{bike.data.lng_rnd}}]"
      radius="500">
    </shape>
  </ng-map>
  <footer></footer>
</md-content>
