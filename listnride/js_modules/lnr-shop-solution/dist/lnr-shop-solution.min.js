function DateService(){return{duration:function(e,t,a){if(void 0===e||void 0===t)return"0 "+translations.rental.days+" , 0 "+translations.rental.hours;var e=new Date(e),t=new Date(t),n=Math.abs(e-t),r=n/1e3|0;n-=1e3*r;var i=r/60|0;r-=60*i;var s=i/60|0;i-=60*s;var o=s/24|0;s-=24*o,o-=a;var l=o/7|0;o-=7*l;var d=1==l?translations.rental.week:translations.rental.weeks,u=1==o?translations.rental.day:translations.rental.days,c=1==s?translations.rental.hour:translations.rental.hours,m="";return l>0&&(m+=l+" "+d),o>0&&(m+=l>0?", "+o+" "+u:o+" "+u),s>0&&(m+=o>0||l>0?", "+s+" "+c:s+" "+c),m},subtotal:function(e,t,a,n,r,i,s){if(i=i||6,void 0===e||void 0===t)return 0;var o=Math.abs(e-t),l=o/1e3|0;o-=1e3*l;var d=l/60|0;l-=60*d;var u=d/60|0;d-=60*u;var c=u/24|0;u-=24*c,c-=s;var m=c/7|0;c-=7*m;var p=r*m;return p+=n*c,0==m&&0==c?p+=u<=i?1*a:1*n:0<u&&u<i?p+=1*a:u>=i&&(p+=1*n),0==m&&p>r&&(p=1*r),p}}}function countInvalidDays(e,t){var a=Math.abs(e.getDate()-t.getDate())+1,n=new Date(t);n.setHours(0,0,0,0);for(var r=0,i=0;r<a;)r++,calendar.isReserved(n)&&i++,n.setDate(n.getDate()-1),n.setHours(0,0,0,0);return i}function checkEmailRegexp(e){var t=$("#"+e),a=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(t.val());a?removeFieldError(t):addFieldError(t)}function compareFullEmail(){var e=$("#form_email"),t=$("#form_email_repeat");t.val().length>0&&e.val().length>0&&(e.val()==t.val()?(removeFieldError(e),removeFieldError(t),userButtonValidator(e.attr("id"),!0),userButtonValidator(t.attr("id"),!0)):(addFieldError(e),addFieldError(t))),userInputErrorAny()}function compareEmailOnFly(){var e=$("#form_email"),t=$("#form_email_repeat"),a=Math.max(t.val().length,e.val().length),n=Math.min(t.val().length,e.val().length);a!=n&&e.val().substring(0,n)==t.val().substring(0,n)?(removeFieldError(e),removeFieldError(t),userButtonValidator(e.attr("id"),!1),userButtonValidator(t.attr("id"),!1)):a==n?compareFullEmail():(addFieldError(e),addFieldError(t))}function userButtonValidator(e,t){userFormOverview[e]=t,allTrue(userFormOverview)?$("#lnr-next-button-tab-basic-info").prop("disabled",!1):$("#lnr-next-button-tab-basic-info").prop("disabled",!0)}function userInputErrorAny(){0==$("#user-info md-input-container.is-invalid").length?(userButtonValidator("valid",!0),$(".user-info-validation").hide()):(userButtonValidator("valid",!1),$(".user-info-validation").show())}function paymentInputErrorAny(){0==$("#sp-payment-form md-input-container.is-invalid").length?(paymentButtonValidator("valid",!0),$(".payment-info-validation").hide()):(paymentButtonValidator("valid",!1),$(".payment-info-validation").show())}function paymentButtonValidator(e,t){paymentFormOverview[e]=t,allTrue(paymentFormOverview)?$("#lnr-next-button-tab-payment-details").prop("disabled",!1):$("#lnr-next-button-tab-payment-details").prop("disabled",!0)}function validateField(e,t){e="#"+e,$(e).parent().hasClass("is-invalid")||0==$(e).val().length?($(e).parent().addClass("is-invalid"),$(e).closest("div").find("label").addClass("text-invalid"),$(t+"-info-validation").removeClass("hidden")):($(e).closest("div").find("label").removeClass("text-invalid"),$(t+"-info-validation").addClass("hidden"))}function addFieldError(e){e.parent().addClass("is-invalid"),e.closest("div").find("label").addClass("text-invalid")}function removeFieldError(e){e.parent().removeClass("is-invalid"),e.closest("div").find("label").removeClass("text-invalid")}function allTrue(e){for(var t in e)if(!e[t])return!1;return!0}!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){"use strict";e.dateRangePickerLanguages={default:{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},id:{selected:"Terpilih:",day:"Hari",days:"Hari",apply:"Tutup","week-1":"sen","week-2":"sel","week-3":"rab","week-4":"kam","week-5":"jum","week-6":"sab","week-7":"min","week-number":"W","month-name":["januari","februari","maret","april","mei","juni","juli","agustus","september","oktober","november","desember"],shortcuts:"Pintas","custom-values":"Nilai yang ditentukan",past:"Yang Lalu",following:"Mengikuti",previous:"Sebelumnya","prev-week":"Minggu","prev-month":"Bulan","prev-year":"Tahun",next:"Selanjutnya","next-week":"Minggu","next-month":"Bulan","next-year":"Tahun","less-than":"Tanggal harus lebih dari %d hari","more-than":"Tanggal harus kurang dari %d hari","default-more":"Jarak tanggal harus lebih lama dari %d hari","default-single":"Silakan pilih tanggal","default-less":"Jarak rentang tanggal tidak boleh lebih lama dari %d hari","default-range":"Rentang tanggal harus antara %d dan %d hari","default-default":"Silakan pilih rentang tanggal",time:"Waktu",hour:"Jam",minute:"Menit"},az:{selected:"Seçildi:",day:" gün",days:" gün",apply:"tətbiq","week-1":"1","week-2":"2","week-3":"3","week-4":"4","week-5":"5","week-6":"6","week-7":"7","month-name":["yanvar","fevral","mart","aprel","may","iyun","iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],shortcuts:"Qısayollar",past:"Keçmiş",following:"Növbəti",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Öncəki həftə","prev-month":"Öncəki ay","prev-year":"Öncəki il",next:"&nbsp;&nbsp;&nbsp;","next-week":"Növbəti həftə","next-month":"Növbəti ay","next-year":"Növbəti il","less-than":"Tarix aralığı %d gündən çox olmamalıdır","more-than":"Tarix aralığı %d gündən az olmamalıdır","default-more":"%d gündən çox bir tarix seçin","default-single":"Tarix seçin","default-less":"%d gündən az bir tarix seçin","default-range":"%d və %d gün aralığında tarixlər seçin","default-default":"Tarix aralığı seçin"},cn:{selected:"已选择:",day:"天",days:"天",apply:"确定","week-1":"一","week-2":"二","week-3":"三","week-4":"四","week-5":"五","week-6":"六","week-7":"日","week-number":"周","month-name":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortcuts:"快捷选择",past:"过去",following:"将来",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"上周","prev-month":"上个月","prev-year":"去年",next:"&nbsp;&nbsp;&nbsp;","next-week":"下周","next-month":"下个月","next-year":"明年","less-than":"所选日期范围不能大于%d天","more-than":"所选日期范围不能小于%d天","default-more":"请选择大于%d天的日期范围","default-less":"请选择小于%d天的日期范围","default-range":"请选择%d天到%d天的日期范围","default-single":"请选择一个日期","default-default":"请选择一个日期范围",time:"时间",hour:"小时",minute:"分钟"},cz:{selected:"Vybráno:",day:"Den",days:"Dny",apply:"Zavřít","week-1":"po","week-2":"út","week-3":"st","week-4":"čt","week-5":"pá","week-6":"so","week-7":"ne","month-name":["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],shortcuts:"Zkratky",past:"po",following:"následující",previous:"předchozí","prev-week":"týden","prev-month":"měsíc","prev-year":"rok",next:"další","next-week":"týden","next-month":"měsíc","next-year":"rok","less-than":"Rozsah data by neměl být větší než %d dnů","more-than":"Rozsah data by neměl být menší než %d dnů","default-more":"Prosím zvolte rozsah data větší než %d dnů","default-single":"Prosím zvolte datum","default-less":"Prosím zvolte rozsah data menší než %d dnů","default-range":"Prosím zvolte rozsah data mezi %d a %d dny","default-default":"Prosím zvolte rozsah data"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schließen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","m&auml;rz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Día",days:"Días",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no debería ser mayor de %d días","more-than":"El rango no debería ser menor de %d días","default-more":"Por favor selecciona un rango mayor a %d días","default-single":"Por favor selecciona un día","default-less":"Por favor selecciona un rango menor a %d días","default-range":"Por favor selecciona un rango entre %d y %d días","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"Sélection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},hu:{selected:"Kiválasztva:",day:"Nap",days:"Nap",apply:"Ok","week-1":"h","week-2":"k","week-3":"sz","week-4":"cs","week-5":"p","week-6":"sz","week-7":"v","month-name":["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],shortcuts:"Gyorsválasztó",past:"Múlt",following:"Következő",previous:"Előző","prev-week":"Hét","prev-month":"Hónap","prev-year":"Év",next:"Következő","next-week":"Hét","next-month":"Hónap","next-year":"Év","less-than":"A kiválasztás nem lehet több %d napnál","more-than":"A kiválasztás nem lehet több %d napnál","default-more":"Válassz ki egy időszakot ami hosszabb mint %d nap","default-single":"Válassz egy napot","default-less":"Válassz ki egy időszakot ami rövidebb mint %d nap","default-range":"Válassz ki egy %d - %d nap hosszú időszakot","default-default":"Válassz ki egy időszakot"},it:{selected:"Selezionati:",day:"Giorno",days:"Giorni",apply:"Chiudi","week-1":"lu","week-2":"ma","week-3":"me","week-4":"gi","week-5":"ve","week-6":"sa","week-7":"do","month-name":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],shortcuts:"Scorciatoie",past:"Scorso",following:"Successivo",previous:"Precedente","prev-week":"Settimana","prev-month":"Mese","prev-year":"Anno",next:"Prossimo","next-week":"Settimana","next-month":"Mese","next-year":"Anno","less-than":"L'intervallo non dev'essere maggiore di %d giorni","more-than":"L'intervallo non dev'essere minore di %d giorni","default-more":"Seleziona un intervallo maggiore di %d giorni","default-single":"Seleziona una data","default-less":"Seleziona un intervallo minore di %d giorni","default-range":"Seleziona un intervallo compreso tra i %d e i %d giorni","default-default":"Seleziona un intervallo di date"},ko:{selected:"기간:",day:"일",days:"일간",apply:"닫기","week-1":"월","week-2":"화","week-3":"수","week-4":"목","week-5":"금","week-6":"토","week-7":"일","week-number":"주","month-name":["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],shortcuts:"단축키들",past:"지난(오늘기준)",following:"이후(오늘기준)",previous:"이전","prev-week":"1주","prev-month":"1달","prev-year":"1년",next:"다음","next-week":"1주","next-month":"1달","next-year":"1년","less-than":"날짜 범위는 %d 일보다 많을 수 없습니다","more-than":"날짜 범위는 %d 일보다 작을 수 없습니다","default-more":"날짜 범위를 %d 일보다 길게 선택해 주세요","default-single":"날짜를 선택해 주세요","default-less":"%d 일보다 작은 날짜를 선택해 주세요","default-range":"%d와 %d 일 사이의 날짜 범위를 선택해 주세요","default-default":"날짜 범위를 선택해 주세요",time:"시각",hour:"시",minute:"분"},no:{selected:"Valgt:",day:"Dag",days:"Dager",apply:"Lukk","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lø","week-7":"sø","month-name":["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],shortcuts:"Snarveier","custom-values":"Egendefinerte Verdier",past:"Over",following:"Følger",previous:"Forrige","prev-week":"Uke","prev-month":"Måned","prev-year":"År",next:"Neste","next-week":"Uke","next-month":"Måned","next-year":"År","less-than":"Datoperioden skal ikkje være lengre enn %d dager","more-than":"Datoperioden skal ikkje være kortere enn %d dager","default-more":"Vennligst velg ein datoperiode lengre enn %d dager","default-single":"Vennligst velg ein dato","default-less":"Vennligst velg ein datoperiode mindre enn %d dager","default-range":"Vennligst velg ein datoperiode mellom %d og %d dager","default-default":"Vennligst velg ein datoperiode",time:"Tid",hour:"Time",minute:"Minutter"},nl:{selected:"Geselecteerd:",day:"Dag",days:"Dagen",apply:"Ok","week-1":"ma","week-2":"di","week-3":"wo","week-4":"do","week-5":"vr","week-6":"za","week-7":"zo","month-name":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortcuts:"Snelkoppelingen","custom-values":"Aangepaste waarden",past:"Verleden",following:"Komend",previous:"Vorige","prev-week":"Week","prev-month":"Maand","prev-year":"Jaar",next:"Volgende","next-week":"Week","next-month":"Maand","next-year":"Jaar","less-than":"Interval moet langer dan %d dagen zijn","more-than":"Interval mag niet minder dan %d dagen zijn","default-more":"Selecteer een interval langer dan %dagen","default-single":"Selecteer een datum","default-less":"Selecteer een interval minder dan %d dagen","default-range":"Selecteer een interval tussen %d en %d dagen","default-default":"Selecteer een interval",time:"Tijd",hour:"Uur",minute:"Minuut"},ru:{selected:"Выбрано:",day:"День",days:"Дней",apply:"Применить","week-1":"пн","week-2":"вт","week-3":"ср","week-4":"чт","week-5":"пт","week-6":"сб","week-7":"вс","month-name":["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],shortcuts:"Быстрый выбор","custom-values":"Пользовательские значения",past:"Прошедшие",following:"Следующие",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Неделя","prev-month":"Месяц","prev-year":"Год",next:"&nbsp;&nbsp;&nbsp;","next-week":"Неделя","next-month":"Месяц","next-year":"Год","less-than":"Диапазон не может быть больше %d дней","more-than":"Диапазон не может быть меньше %d дней","default-more":"Пожалуйста выберите диапазон больше %d дней","default-single":"Пожалуйста выберите дату","default-less":"Пожалуйста выберите диапазон меньше %d дней","default-range":"Пожалуйста выберите диапазон между %d и %d днями","default-default":"Пожалуйста выберите диапазон",time:"Время",hour:"Часы",minute:"Минуты"},pl:{selected:"Wybrany:",day:"Dzień",days:"Dni",apply:"Zamknij","week-1":"pon","week-2":"wt","week-3":"śr","week-4":"czw","week-5":"pt","week-6":"so","week-7":"nd","month-name":["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],shortcuts:"Skróty","custom-values":"Niestandardowe wartości",past:"Przeszłe",following:"Następne",previous:"Poprzednie","prev-week":"tydzień","prev-month":"miesiąc","prev-year":"rok",next:"Następny","next-week":"tydzień","next-month":"miesiąc","next-year":"rok","less-than":"Okres nie powinien być dłuższy niż %d dni","more-than":"Okres nie powinien być krótszy niż  %d ni","default-more":"Wybierz okres dłuższy niż %d dni","default-single":"Wybierz datę","default-less":"Wybierz okres krótszy niż %d dni","default-range":"Wybierz okres trwający od %d do %d dni","default-default":"Wybierz okres",time:"Czas",hour:"Godzina",minute:"Minuta"},se:{selected:"Vald:",day:"dag",days:"dagar",apply:"godkänn","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lö","week-7":"sö","month-name":["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],shortcuts:"genvägar","custom-values":"Anpassade värden",past:"över",following:"följande",previous:"förra","prev-week":"vecka","prev-month":"månad","prev-year":"år",next:"nästa","next-week":"vecka","next-month":"måned","next-year":"år","less-than":"Datumintervall bör inte vara mindre än %d dagar","more-than":"Datumintervall bör inte vara mer än %d dagar","default-more":"Välj ett datumintervall längre än %d dagar","default-single":"Välj ett datum","default-less":"Välj ett datumintervall mindre än %d dagar","default-range":"Välj ett datumintervall mellan %d och %d dagar","default-default":"Välj ett datumintervall",time:"tid",hour:"timme",minute:"minut"},pt:{selected:"Selecionado:",day:"Dia",days:"Dias",apply:"Fechar","week-1":"seg","week-2":"ter","week-3":"qua","week-4":"qui","week-5":"sex","week-6":"sab","week-7":"dom","week-number":"N","month-name":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortcuts:"Atalhos","custom-values":"Valores Personalizados",past:"Passado",following:"Seguinte",previous:"Anterior","prev-week":"Semana","prev-month":"Mês","prev-year":"Ano",next:"Próximo","next-week":"Próxima Semana","next-month":"Próximo Mês","next-year":"Próximo Ano","less-than":"O período selecionado não deve ser maior que %d dias","more-than":"O período selecionado não deve ser menor que %d dias","default-more":"Selecione um período superior a %d dias","default-single":"Selecione uma data","default-less":"Selecione um período inferior a %d dias","default-range":"Selecione um período de %d a %d dias","default-default":"Selecione um período",time:"Tempo",hour:"Hora",minute:"Minuto"},tc:{selected:"已選擇:",day:"天",days:"天",apply:"確定","week-1":"一","week-2":"二","week-3":"三","week-4":"四","week-5":"五","week-6":"六","week-7":"日","week-number":"周","month-name":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortcuts:"快速選擇",past:"過去",following:"將來",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"上週","prev-month":"上個月","prev-year":"去年",next:"&nbsp;&nbsp;&nbsp;","next-week":"下周","next-month":"下個月","next-year":"明年","less-than":"所選日期範圍不能大於%d天","more-than":"所選日期範圍不能小於%d天","default-more":"請選擇大於%d天的日期範圍","default-less":"請選擇小於%d天的日期範圍","default-range":"請選擇%d天到%d天的日期範圍","default-single":"請選擇一個日期","default-default":"請選擇一個日期範圍",time:"日期",hour:"小時",minute:"分鐘"},ja:{selected:"選択しました:",day:"日",days:"日々",apply:"閉じる","week-1":"月","week-2":"火","week-3":"水","week-4":"木","week-5":"金","week-6":"土","week-7":"日","month-name":["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],shortcuts:"クイック選択",past:"過去",following:"将来",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"先週、","prev-month":"先月","prev-year":"昨年",next:"&nbsp;&nbsp;&nbsp;","next-week":"来週","next-month":"来月","next-year":"来年","less-than":"日付の範囲は ％d 日以上にすべきではありません","more-than":"日付の範囲は ％d 日を下回ってはいけません","default-more":"％d 日よりも長い期間を選択してください","default-less":"％d 日未満の期間を選択してください","default-range":"％d と％ d日の間の日付範囲を選択してください","default-single":"日付を選択してください","default-default":"日付範囲を選択してください",time:"時間",hour:"時間",minute:"分"},da:{selected:"Valgt:",day:"Dag",days:"Dage",apply:"Luk","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lö","week-7":"sö","month-name":["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],shortcuts:"genveje","custom-values":"Brugerdefinerede værdier",past:"Forbi",following:"Følgende",previous:"Forrige","prev-week":"uge","prev-month":"månad","prev-year":"år",next:"Næste","next-week":"Næste uge","next-month":"Næste måned","next-year":"Næste år","less-than":"Dato interval bør ikke være med end %d dage","more-than":"Dato interval bør ikke være mindre end %d dage","default-more":"Vælg datointerval længere end %d dage","default-single":"Vælg dato","default-less":"Vælg datointerval mindre end %d dage","default-range":"Vælg datointerval mellem %d og %d dage","default-default":"Vælg datointerval",time:"tid",hour:"time",minute:"minut"},fi:{selected:"Valittu:",day:"Päivä",days:"Päivää",apply:"Sulje","week-1":"ma","week-2":"ti","week-3":"ke","week-4":"to","week-5":"pe","week-6":"la","week-7":"su","week-number":"V","month-name":["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortcuts:"Pikavalinnat","custom-values":"Mukautetut Arvot",past:"Menneet",following:"Tulevat",previous:"Edellinen","prev-week":"Viikko","prev-month":"Kuukausi","prev-year":"Vuosi",next:"Seuraava","next-week":"Viikko","next-month":"Kuukausi","next-year":"Vuosi","less-than":"Aikajakson tulisi olla vähemmän kuin %d päivää","more-than":"Aikajakson ei tulisi olla vähempää kuin %d päivää","default-more":"Valitse pidempi aikajakso kuin %d päivää","default-single":"Valitse päivä","default-less":"Valitse lyhyempi aikajakso kuin %d päivää","default-range":"Valitse aikajakso %d ja %d päivän väliltä","default-default":"Valitse aikajakso",time:"Aika",hour:"Tunti",minute:"Minuutti"}},e.fn.dateRangePicker=function(a){function n(t,a){return a.contains(t.target)||t.target==a||void 0!=a.childNodes&&e.inArray(t.target,a.childNodes)>=0}function r(){function r(){var t=e("div.day.checked");if(0==t.length)return me=0;var a=e("div.day.toMonth"),n=[a[a.length-1]],r=t[0].attributes.time.value,i=n[0].attributes.time.value;me=x(i,r,n,!0)}function s(t){var n=e(t).parents("table").hasClass("month2"),r=n?a.month2:a.month1;r=W(r),!a.singleMonth&&!a.singleDate&&!n&&B(r,a.month2)>=0||K(r)||(z(r,n?"month2":"month1"),E())}function o(e){var t=W(a.month1),n=W(a.month2);K(n)||!a.singleDate&&B(t,n)>=0||(z(t,"month1"),z(n,"month2"),P())}function l(t){var n=e(t).parents("table").hasClass("month2"),r=n?a.month2:a.month1;r=H(r),n&&B(r,a.month1)<=0||K(r)||(z(r,n?"month2":"month1"),E())}function d(e){var t=H(a.month1),n=H(a.month2);K(t)||!a.singleDate&&B(n,t)<=0||(z(n,"month2"),z(t,"month1"),P())}var c=this;if(e(this).data("date-picker-opened"))return void A();e(this).data("date-picker-opened",!0),se=L().hide(),se.append('<div class="date-range-length-tip"></div>'),e(a.container).append(se),a.inline?se.addClass("inline-wrapper"):i(),a.alwaysOpen&&se.find(".apply-btn").hide();var m=re();if(ie(m),a.time.enabled)if(a.startDate&&a.endDate||a.start&&a.end)I(t(a.start||a.startDate).toDate(),"time1"),I(t(a.end||a.endDate).toDate(),"time2");else{var p=a.defaultEndTime?a.defaultEndTime:m;I(m,"time1"),I(p,"time2")}var f="";f=ne(a.singleDate?"default-single":a.minDays&&a.maxDays?"default-range":a.minDays?"default-more":a.maxDays?"default-less":"default-default"),se.find(".default-top").html(f.replace(/\%d/,a.minDays).replace(/\%d/,a.maxDays)),a.singleMonth?se.addClass("single-month"):se.addClass("two-months"),setTimeout(function(){u(),de=!0},0),se.click(function(e){e.stopPropagation()}),e(document).bind("click.datepicker",function(e){n(e,c[0])||se.is(":visible")&&A()}),se.find(".next").click(function(){r(),a.stickyMonths?o(this):s(this)}),se.find(".prev").click(function(){a.stickyMonths?d(this):l(this)}),se.attr("unselectable","on").css("user-select","none").bind("selectstart",function(e){return e.preventDefault(),!1}),se.find(".apply-btn").click(function(){A();var t=j(new Date(a.start))+a.separator+j(new Date(a.end));e(c).trigger("datepicker-apply",{value:t,date1:new Date(a.start),date2:new Date(a.end)})}),se.find("[custom]").click(function(){var t=e(this).attr("custom");a.start=!1,a.end=!1,se.find(".day.checked").removeClass("checked"),a.setValue.call(ce,t),$(),S(!0),P(),a.autoClose&&A()}),se.find("[shortcut]").click(function(){var t,n=e(this).attr("shortcut"),r=new Date,i=!1;if(n.indexOf("day")!=-1){var s=parseInt(n.split(",",2)[1],10);i=new Date((new Date).getTime()+864e5*s),r=new Date(r.getTime()+864e5*(s>0?1:-1))}else if(n.indexOf("week")!=-1){t=n.indexOf("prev,")!=-1?-1:1;var o;for(o=1==t?"monday"==a.startOfWeek?1:0:"monday"==a.startOfWeek?0:6,r=new Date(r.getTime()-864e5);r.getDay()!=o;)r=new Date(r.getTime()+864e5*t);i=new Date(r.getTime()+864e5*t*6)}else if(n.indexOf("month")!=-1)t=n.indexOf("prev,")!=-1?-1:1,i=1==t?W(r):H(r),i.setDate(1),r=W(i),r.setDate(1),r=new Date(r.getTime()-864e5);else if(n.indexOf("year")!=-1)t=n.indexOf("prev,")!=-1?-1:1,i=new Date,i.setFullYear(r.getFullYear()+t),i.setMonth(0),i.setDate(1),r.setFullYear(r.getFullYear()+t),r.setMonth(11),r.setDate(31);else if("custom"==n){var l=e(this).html();if(a.customShortcuts&&a.customShortcuts.length>0)for(var d=0;d<a.customShortcuts.length;d++){var u=a.customShortcuts[d];if(u.name==l){var c=[];if(c=u.dates.call(),c&&2==c.length&&(i=c[0],r=c[1]),c&&1==c.length){var m=c[0];z(m,"month1"),z(W(m),"month2"),E()}break}}}i&&r&&(O(i,r),$())}),se.find(".time1 input[type=range]").bind("change touchmove",function(t){var a=t.target,n="hour"==a.name?e(a).val().replace(/^(\d{1})$/,"0$1"):void 0,r="minute"==a.name?e(a).val().replace(/^(\d{1})$/,"0$1"):void 0;h("time1",n,r)}),se.find(".time2 input[type=range]").bind("change touchmove",function(t){var a=t.target,n="hour"==a.name?e(a).val().replace(/^(\d{1})$/,"0$1"):void 0,r="minute"==a.name?e(a).val().replace(/^(\d{1})$/,"0$1"):void 0;h("time2",n,r)})}function i(){if(!a.inline){var t=e(ue).offset();if("relative"==e(a.container).css("position")){var n=e(a.container).offset();se.css({top:t.top-n.top+e(ue).outerHeight()+4,left:t.left-n.left})}else t.left<460?se.css({top:t.top+e(ue).outerHeight()+parseInt(e("body").css("border-top")||0,10),left:t.left}):se.css({top:t.top+e(ue).outerHeight()+parseInt(e("body").css("border-top")||0,10),left:t.left+e(ue).width()-se.width()-16})}}function s(){return se}function o(t){i(),N(),l(),a.customOpenAnimation?a.customOpenAnimation.call(se.get(0),function(){e(ue).trigger("datepicker-opened",{relatedTarget:se})}):se.slideDown(t,function(){e(ue).trigger("datepicker-opened",{relatedTarget:se})}),e(ue).trigger("datepicker-open",{relatedTarget:se}),E(),u()}function l(){var e=a.getValue.call(ce),n=e?e.split(a.separator):"";if(n&&(1==n.length&&a.singleDate||n.length>=2)){var r=a.format;r.match(/Do/)&&(r=r.replace(/Do/,"D"),n[0]=n[0].replace(/(\d+)(th|nd|st)/,"$1"),n.length>=2&&(n[1]=n[1].replace(/(\d+)(th|nd|st)/,"$1"))),de=!1,n.length>=2?O(d(n[0],r,t.locale(a.language)),d(n[1],r,t.locale(a.language))):1==n.length&&a.singleDate&&_(d(n[0],r,t.locale(a.language))),de=!0}}function d(e,a,n){return t(e,a,n).isValid()?t(e,a,n).toDate():t().toDate()}function u(){var e=se.find(".gap").css("margin-left");e&&(e=parseInt(e));var t=se.find(".month1").width(),a=se.find(".gap").width()+(e?2*e:0),n=se.find(".month2").width();se.find(".month-wrapper").width(t+a+n)}function c(e,a){se.find("."+e+" input[type=range].hour-range").val(t(a).hours()),se.find("."+e+" input[type=range].minute-range").val(t(a).minutes()),h(e,t(a).format("HH"),t(a).format("mm"))}function m(e,n){a[e]=parseInt(t(parseInt(n)).startOf("day").add(t(a[e+"Time"]).format("HH"),"h").add(t(a[e+"Time"]).format("mm"),"m").valueOf())}function p(){c("time1",a.start),c("time2",a.end)}function h(e,n,r){function i(e,t){var i=t.format("HH"),s=t.format("mm");a[e]=t.startOf("day").add(n||i,"h").add(r||s,"m").valueOf()}switch(n&&se.find("."+e+" .hour-val").text(n),r&&se.find("."+e+" .minute-val").text(r),e){case"time1":a.start&&i("start",t(a.start)),i("startTime",t(a.startTime||t().valueOf()));break;case"time2":a.end&&i("end",t(a.end)),i("endTime",t(a.endTime||t().valueOf()))}$(),S(),P()}function f(){a.start=!1,a.end=!1,se.find(".day.checked").removeClass("checked"),se.find(".day.last-date-selected").removeClass("last-date-selected"),se.find(".day.first-date-selected").removeClass("first-date-selected"),a.setValue.call(ce,""),$(),S(),P()}function v(e){var n=e;return"week-range"===a.batchMode?n="monday"===a.startOfWeek?t(parseInt(e)).startOf("isoweek").valueOf():t(parseInt(e)).startOf("week").valueOf():"month-range"===a.batchMode&&(n=t(parseInt(e)).startOf("month").valueOf()),n}function g(e){var n=e;return"week-range"===a.batchMode?n="monday"===a.startOfWeek?t(parseInt(e)).endOf("isoweek").valueOf():t(parseInt(e)).endOf("week").valueOf():"month-range"===a.batchMode&&(n=t(parseInt(e)).endOf("month").valueOf()),n}function y(n){if(!n.hasClass("invalid")){var r=n.attr("time");if(n.addClass("checked"),pe=0,a.singleDate?(a.start=r,a.end=!1):"week"===a.batchMode?"monday"===a.startOfWeek?(a.start=t(parseInt(r)).startOf("isoweek").valueOf(),a.end=t(parseInt(r)).endOf("isoweek").valueOf()):(a.end=t(parseInt(r)).endOf("week").valueOf(),a.start=t(parseInt(r)).startOf("week").valueOf()):"workweek"===a.batchMode?(a.start=t(parseInt(r)).day(1).valueOf(),a.end=t(parseInt(r)).day(5).valueOf()):"weekend"===a.batchMode?(a.start=t(parseInt(r)).day(6).valueOf(),a.end=t(parseInt(r)).day(7).valueOf()):"month"===a.batchMode?(a.start=t(parseInt(r)).startOf("month").valueOf(),a.end=t(parseInt(r)).endOf("month").valueOf()):a.start&&a.end||!a.start&&!a.end?(a.start=v(r),a.end=!1):a.start&&(a.end=g(r),a.time.enabled&&m("end",a.end)),a.time.enabled&&(a.start&&m("start",a.start),a.end&&m("end",a.end)),!a.singleDate&&a.start&&a.end&&a.start>a.end){var i=a.end;a.end=g(a.start),a.start=v(i),a.time.enabled&&a.swapTime&&p()}a.start=parseInt(a.start),a.end=parseInt(a.end),C(),a.start&&!a.end&&(e(ue).trigger("datepicker-first-date-selected",{date1:new Date(a.start)}),D(n)),w(r),$(),S(),P(),T()}}function k(e){var n,r,i=parseInt(e.attr("data-start-time"),10);a.startWeek?(se.find(".week-number-selected").removeClass("week-number-selected"),n=new Date(i<a.startWeek?i:a.startWeek),r=new Date(i<a.startWeek?a.startWeek:i),a.startWeek=!1,a.start=t(n).day("monday"==a.startOfWeek?1:0).valueOf(),a.end=t(r).day("monday"==a.startOfWeek?7:6).valueOf()):(a.startWeek=i,e.addClass("week-number-selected"),n=new Date(i),a.start=t(n).day("monday"==a.startOfWeek?1:0).valueOf(),a.end=t(n).day("monday"==a.startOfWeek?7:6).valueOf()),w(),$(),S(),P(),T()}function b(e){if(e=parseInt(e,10),a.startDate&&Y(e,a.startDate)<0)return!1;if(a.endDate&&Y(e,a.endDate)>0)return!1;if(a.start&&!a.end&&!a.singleDate){if(a.maxDays>0&&M(e,a.start,0)>a.maxDays)return!1;if(a.minDays>0&&M(e,a.start,0)<a.minDays)return!1;if(a.selectForward&&e<a.start)return!1;if(a.selectBackward&&e>a.start)return!1;if(a.beforeShowDay&&"function"==typeof a.beforeShowDay)for(var t=!0,n=e;M(n,a.start,0)>1;){var r=a.beforeShowDay(new Date(n));if(!r[0]){t=!1;break}if(Math.abs(n-a.start)<864e5)break;n>a.start&&(n-=864e5),n<a.start&&(n+=864e5);
}}return!0}function w(){return se.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),a.start&&!a.end&&se.find(".day.toMonth.valid").each(function(){var t=parseInt(e(this).attr("time"),10);b(t)?e(this).addClass("valid tmp").removeClass("invalid"):e(this).addClass("invalid tmp").removeClass("valid")}),!0}function D(t){var n=parseInt(t.attr("time")),r="",i=0;if(t.hasClass("has-tooltip")&&t.attr("data-tooltip"))r='<span style="white-space:nowrap">'+t.attr("data-tooltip")+"</span>";else if(!t.hasClass("invalid"))if(a.singleDate)se.find(".day.hovering").removeClass("hovering"),t.addClass("hovering");else if(se.find(".day").each(function(){var t=parseInt(e(this).attr("time"));a.start,a.end;t==n?e(this).addClass("hovering"):e(this).removeClass("hovering"),a.start&&!a.end&&(a.start<t&&n>=t||a.start>t&&n<=t)?e(this).hasClass("invalid")||e(this).addClass("hovering"):e(this).removeClass("hovering")}),a.start&&!a.end){n!=a.start?i=x(n,a.start,t,!1):me=0;var s=M(n,a.start,i);a.hoveringTooltip&&("function"==typeof a.hoveringTooltip?r=a.hoveringTooltip(s,a.start,n):a.hoveringTooltip===!0&&s>1&&(r=s+" "+ne("days")))}if(r){var o=t.offset(),l=se.offset(),d=o.left-l.left,u=o.top-l.top;d+=t.width()/2;var c=se.find(".date-range-length-tip"),m=c.css({visibility:"hidden",display:"none"}).html(r).width(),p=c.height();d-=m/2,u-=p,setTimeout(function(){c.css({left:d,top:u,display:"block",visibility:"visible"})},10)}else se.find(".date-range-length-tip").hide()}function x(t,a,n,r){if(t==a)return 0;for(var i=Math.abs(Q(a)-Q(t))-pe,s=0,o=0;o<i;){o++,r&&pe++,e(n).hasClass("invalid")&&s++;var l=n[0].attributes.time.value-864e5;n=e("div.day[time="+l+"]")}return s+me}function C(){se.find(".day.hovering").removeClass("hovering"),se.find(".date-range-length-tip").hide()}function T(){a.singleDate===!0?de&&a.start&&a.autoClose&&A():de&&a.start&&a.end&&a.autoClose&&A()}function $(){var e=Math.ceil((a.end-a.start)/864e5)+1;a.singleDate?a.start&&!a.end?se.find(".drp_top-bar").removeClass("error").addClass("normal"):se.find(".drp_top-bar").removeClass("error").removeClass("normal"):a.maxDays&&e>a.maxDays?(a.start=!1,a.end=!1,se.find(".day").removeClass("checked"),se.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(ne("less-than").replace("%d",a.maxDays))):a.minDays&&e<a.minDays?(a.start=!1,a.end=!1,se.find(".day").removeClass("checked"),se.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(ne("more-than").replace("%d",a.minDays))):a.start||a.end?se.find(".drp_top-bar").removeClass("error").addClass("normal"):se.find(".drp_top-bar").removeClass("error").removeClass("normal"),a.singleDate&&a.start&&!a.end||!a.singleDate&&a.start&&a.end?se.find(".apply-btn").removeClass("disabled"):se.find(".apply-btn").addClass("disabled"),a.batchMode&&(a.start&&a.startDate&&Y(a.start,a.startDate)<0||a.end&&a.endDate&&Y(a.end,a.endDate)>0)&&(a.start=!1,a.end=!1,se.find(".day").removeClass("checked"))}function S(t,n){se.find(".start-day").html("..."),se.find(".end-day").html("..."),se.find(".selected-days").hide(),a.start&&se.find(".start-day").html(j(new Date(parseInt(a.start)))),a.end&&se.find(".end-day").html(j(new Date(parseInt(a.end))));var r;a.start&&a.singleDate?(se.find(".apply-btn").removeClass("disabled"),r=j(new Date(a.start)),a.setValue.call(ce,r,j(new Date(a.start)),j(new Date(a.end))),de&&!n&&e(ue).trigger("datepicker-change",{value:r,date1:new Date(a.start)})):a.start&&a.end?(se.find(".selected-days").show().find(".selected-days-num").html(M(a.end,a.start,0)),se.find(".apply-btn").removeClass("disabled"),r=j(new Date(a.start))+a.separator+j(new Date(a.end)),a.setValue.call(ce,r,j(new Date(a.start)),j(new Date(a.end))),de&&!n&&e(ue).trigger("datepicker-change",{value:r,date1:new Date(a.start),date2:new Date(a.end)})):t?se.find(".apply-btn").removeClass("disabled"):se.find(".apply-btn").addClass("disabled")}function M(e,t,a){return Math.abs(Q(e)-Q(t))-a+1}function O(e,t,n){if(e.getTime()>t.getTime()){var r=t;t=e,e=r,r=null}var i=!0;return a.startDate&&Y(e,a.startDate)<0&&(i=!1),a.endDate&&Y(t,a.endDate)>0&&(i=!1),i?(a.start=e.getTime(),a.end=t.getTime(),a.time.enabled&&(c("time1",e),c("time2",t)),(a.stickyMonths||Y(e,t)>0&&0===B(e,t))&&(a.lookBehind?e=H(t):t=W(e)),a.stickyMonths&&a.endDate!==!1&&B(t,a.endDate)>0&&(e=H(e),t=H(t)),a.stickyMonths||0===B(e,t)&&(a.lookBehind?e=H(t):t=W(e)),z(e,"month1"),z(t,"month2"),E(),$(),S(!1,n),void T()):(z(a.startDate,"month1"),z(W(a.startDate),"month2"),void E())}function _(e){var t=!0;if(a.startDate&&Y(e,a.startDate)<0&&(t=!1),a.endDate&&Y(e,a.endDate)>0&&(t=!1),!t)return void z(a.startDate,"month1");if(a.start=e.getTime(),a.time.enabled&&c("time1",e),z(e,"month1"),a.singleMonth!==!0){var n=W(e);z(n,"month2")}E(),S(),T()}function P(){(a.start||a.end)&&(se.find(".day").each(function(){var n=parseInt(e(this).attr("time")),r=a.start,i=a.end;a.time.enabled&&(n=t(n).startOf("day").valueOf(),r=t(r||t().valueOf()).startOf("day").valueOf(),i=t(i||t().valueOf()).startOf("day").valueOf()),a.start&&a.end&&i>=n&&r<=n||a.start&&!a.end&&t(r).format("YYYY-MM-DD")==t(n).format("YYYY-MM-DD")?e(this).hasClass("invalid")||(e(this).addClass("checked"),pe=0):e(this).removeClass("checked"),a.start&&t(r).format("YYYY-MM-DD")==t(n).format("YYYY-MM-DD")?(e(this).addClass("first-date-selected"),e("#lnr-next-button-tab-duration").length&&e("#lnr-next-button-tab-duration").prop("disabled",!0)):e(this).removeClass("first-date-selected"),a.end&&t(i).format("YYYY-MM-DD")==t(n).format("YYYY-MM-DD")?(e(this).addClass("last-date-selected"),e("#lnr-next-button-tab-duration").length&&e("#lnr-next-button-tab-duration").prop("disabled",!1)):e(this).removeClass("last-date-selected")}),se.find(".week-number").each(function(){e(this).attr("data-start-time")==a.startWeek&&e(this).addClass("week-number-selected")}))}function z(e,n){e=t(e).toDate();var r=V(e.getMonth());se.find("."+n+" .month-name").html(r+" "+e.getFullYear()),se.find("."+n+" tbody").html(ee(e)),a[n]=e,w(),F()}function F(){se.find(".day").unbind("click").click(function(t){y(e(this))}),se.find(".day").unbind("mouseenter").mouseenter(function(t){D(e(this))}),se.find(".day").unbind("mouseleave").mouseleave(function(e){se.find(".date-range-length-tip").hide(),a.singleDate&&C()}),se.find(".week-number").unbind("click").click(function(t){k(e(this))})}function I(e,t){se.find("."+t).append(R()),c(t,e)}function V(e){return ne("month-name")[e]}function j(e){return t(e).format(a.format)}function E(){P();var e=parseInt(t(a.month1).format("YYYYMM")),n=parseInt(t(a.month2).format("YYYYMM")),r=Math.abs(e-n),i=r>1&&89!=r;i?se.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):se.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var s=se.find("table.month1").height(),o=se.find("table.month2").height();se.find(".gap").height(Math.max(s,o)+10)}function A(){if(!a.alwaysOpen){var t=function(){e(ue).data("date-picker-opened",!1),e(ue).trigger("datepicker-closed",{relatedTarget:se})};a.customCloseAnimation?a.customCloseAnimation.call(se.get(0),t):e(se).slideUp(a.duration,t),e(ue).trigger("datepicker-close",{relatedTarget:se})}}function N(){z(a.month1,"month1"),z(a.month2,"month2")}function B(e,a){var n=parseInt(t(e).format("YYYYMM"))-parseInt(t(a).format("YYYYMM"));return n>0?1:0===n?0:-1}function Y(e,a){var n=parseInt(t(e).format("YYYYMMDD"))-parseInt(t(a).format("YYYYMMDD"));return n>0?1:0===n?0:-1}function W(e){return t(e).add(1,"months").toDate()}function H(e){return t(e).add(-1,"months").toDate()}function R(){return"<div><span>"+ne("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+ne("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+ne("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'}function L(){var t='<div class="date-picker-wrapper';a.extraClass&&(t+=" "+a.extraClass+" "),a.singleDate&&(t+=" single-date "),a.showShortcuts||(t+=" no-shortcuts "),a.showTopbar||(t+=" no-topbar "),a.customTopBar&&(t+=" custom-topbar "),t+='">',a.showTopbar&&(t+='<div class="drp_top-bar">',a.customTopBar?("function"==typeof a.customTopBar&&(a.customTopBar=a.customTopBar()),t+='<div class="custom-top">'+a.customTopBar+"</div>"):(t+='<div class="normal-top"><span style="color:#333">'+ne("selected")+' </span> <b class="start-day">...</b>',a.singleDate||(t+=' <span class="separator-day">'+a.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+ne("days")+")</i>"),t+="</div>",t+='<div class="error-top">error</div><div class="default-top">default</div>'),t+='<input type="button" class="apply-btn disabled'+q()+'" value="'+ne("apply")+'" />',t+="</div>");var n=a.showWeekNumbers?6:5,r="&lt;";a.customArrowPrevSymbol&&(r=a.customArrowPrevSymbol);var i="&gt;";if(a.customArrowNextSymbol&&(i=a.customArrowNextSymbol),t+='<div class="month-wrapper">   <table class="month1" cellspacing="0" border="0" cellpadding="0">       <thead>           <tr class="caption">               <th style="width:27px;">                   <span class="prev">'+r+'                   </span>               </th>               <th colspan="'+n+'" class="month-name">               </th>               <th style="width:27px;">'+(a.singleDate||!a.stickyMonths?'<span class="next">'+i+"</span>":"")+'               </th>           </tr>           <tr class="week-name">'+U()+"       </thead>       <tbody></tbody>   </table>",J()&&(t+='<div class="gap">'+G()+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0">   <thead>   <tr class="caption">       <th style="width:27px;">'+(a.stickyMonths?"":'<span class="prev">'+r+"</span>")+'       </th>       <th colspan="'+n+'" class="month-name">       </th>       <th style="width:27px;">           <span class="next">'+i+'</span>       </th>   </tr>   <tr class="week-name">'+U()+"   </thead>   <tbody></tbody></table>"),t+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',a.singleDate||(t+='<div class="time2"></div>'),t+='</div><div style="clear:both;height:0;font-size:0;"></div></div>',t+='<div class="footer">',a.showShortcuts){t+='<div class="shortcuts"><b>'+ne("shortcuts")+"</b>";var s=a.shortcuts;if(s){var o;if(s["prev-days"]&&s["prev-days"].length>0){t+='&nbsp;<span class="prev-days">'+ne("past");for(var l=0;l<s["prev-days"].length;l++)o=s["prev-days"][l],o+=ne(s["prev-days"][l]>1?"days":"day"),t+=' <a href="javascript:;" shortcut="day,-'+s["prev-days"][l]+'">'+o+"</a>";t+="</span>"}if(s["next-days"]&&s["next-days"].length>0){t+='&nbsp;<span class="next-days">'+ne("following");for(var l=0;l<s["next-days"].length;l++)o=s["next-days"][l],o+=ne(s["next-days"][l]>1?"days":"day"),t+=' <a href="javascript:;" shortcut="day,'+s["next-days"][l]+'">'+o+"</a>";t+="</span>"}if(s.prev&&s.prev.length>0){t+='&nbsp;<span class="prev-buttons">'+ne("previous");for(var l=0;l<s.prev.length;l++)o=ne("prev-"+s.prev[l]),t+=' <a href="javascript:;" shortcut="prev,'+s.prev[l]+'">'+o+"</a>";t+="</span>"}if(s.next&&s.next.length>0){t+='&nbsp;<span class="next-buttons">'+ne("next");for(var l=0;l<s.next.length;l++)o=ne("next-"+s.next[l]),t+=' <a href="javascript:;" shortcut="next,'+s.next[l]+'">'+o+"</a>";t+="</span>"}}if(a.customShortcuts)for(var l=0;l<a.customShortcuts.length;l++){var d=a.customShortcuts[l];t+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+d.name+"</a></span>"}t+="</div>"}if(a.showCustomValues&&(t+='<div class="customValues"><b>'+(a.customValueLabel||ne("custom-values"))+"</b>",a.customValues))for(var l=0;l<a.customValues.length;l++){var u=a.customValues[l];t+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+u.value+'">'+u.name+"</a></span>"}return t+="</div></div>",e(t)}function q(){var e="";return a.autoClose===!0&&(e+=" hide"),""!==a.applyBtnClass&&(e+=" "+a.applyBtnClass),e}function U(){var e=a.showWeekNumbers?"<th>"+ne("week-number")+"</th>":"";return"monday"==a.startOfWeek?e+"<th>"+ne("week-1")+"</th><th>"+ne("week-2")+"</th><th>"+ne("week-3")+"</th><th>"+ne("week-4")+"</th><th>"+ne("week-5")+"</th><th>"+ne("week-6")+"</th><th>"+ne("week-7")+"</th>":e+"<th>"+ne("week-7")+"</th><th>"+ne("week-1")+"</th><th>"+ne("week-2")+"</th><th>"+ne("week-3")+"</th><th>"+ne("week-4")+"</th><th>"+ne("week-5")+"</th><th>"+ne("week-6")+"</th>"}function K(e){return e=t(e),!(!a.startDate||!e.endOf("month").isBefore(a.startDate))||!(!a.endDate||!e.startOf("month").isAfter(a.endDate))}function G(){for(var e=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'],t=0;t<20;t++)e.push('<div class="gap-line"><div class="gap-1"></div><div class="gap-2"></div><div class="gap-3"></div></div>');return e.push("</div>"),e.join("")}function J(){return!a.singleMonth}function Z(t,a,n){var r=e.extend(!0,{},t);e.each(a,function(e,t){var a=t(n);for(var i in a)r.hasOwnProperty(i)?r[i]+=a[i]:r[i]=a[i]});var i="";for(var s in r)r.hasOwnProperty(s)&&(i+=s+'="'+r[s]+'" ');return i}function Q(e){return Math.floor(X(e)/864e5)}function X(e){return t.isMoment(e)&&(e=e.toDate().getTime()),"object"==typeof e&&e.getTime&&(e=e.getTime()),"string"!=typeof e||e.match(/\d{13}/)||(e=t(e,a.format).toDate().getTime()),e=parseInt(e,10)-60*(new Date).getTimezoneOffset()*1e3}function ee(e){var n=[];e.setDate(1);var r=(new Date(e.getTime()-864e5),new Date),i=e.getDay();0===i&&"monday"===a.startOfWeek&&(i=7);var s,o;if(i>0)for(var l=i;l>0;l--){var d=new Date(e.getTime()-864e5*l);o=b(d.getTime()),a.startDate&&Y(d,a.startDate)<0&&(o=!1),a.endDate&&Y(d,a.endDate)>0&&(o=!1),n.push({date:d,type:"lastMonth",day:d.getDate(),time:d.getTime(),valid:o})}for(var u=e.getMonth(),l=0;l<40;l++)s=t(e).add(l,"days").toDate(),o=b(s.getTime()),a.startDate&&Y(s,a.startDate)<0&&(o=!1),a.endDate&&Y(s,a.endDate)>0&&(o=!1),n.push({date:s,type:s.getMonth()==u?"toMonth":"nextMonth",day:s.getDate(),time:s.getTime(),valid:o});for(var c=[],m=0;m<6&&"nextMonth"!=n[7*m].type;m++){c.push("<tr>");for(var d=0;d<7;d++){var p="monday"==a.startOfWeek?d+1:d;s=n[7*m+p];var h=t(s.time).format("L")==t(r).format("L");if(s.extraClass="",s.tooltip="",s.valid&&a.beforeShowDay&&"function"==typeof a.beforeShowDay){var f=a.beforeShowDay(t(s.time).toDate());s.valid=f[0],s.extraClass=f[1]||"",s.tooltip=f[2]||"",""!==s.tooltip&&(s.extraClass+=" has-tooltip ")}var v={time:s.time,"data-tooltip":s.tooltip,class:"day "+s.type+" "+s.extraClass+" "+(s.valid?"valid":"invalid")+" "+(h?"real-today":"")};0===d&&a.showWeekNumbers&&c.push('<td><div class="week-number" data-start-time="'+s.time+'">'+a.getWeekNumber(s.date)+"</div></td>"),c.push("<td "+Z({},a.dayTdAttrs,s)+"><div "+Z(v,a.dayDivAttrs,s)+">"+te(s.time,s.day)+"</div></td>")}c.push("</tr>")}return c.join("")}function te(e,t){return a.showDateFilter&&"function"==typeof a.showDateFilter?a.showDateFilter(e,t):t}function ae(){if("auto"==a.language){var t=navigator.language?navigator.language:navigator.browserLanguage;if(!t)return e.dateRangePickerLanguages.default;t=t.toLowerCase();for(var n in e.dateRangePickerLanguages)if(t.indexOf(n)!==-1)return e.dateRangePickerLanguages[n];return e.dateRangePickerLanguages.default}return a.language&&a.language in e.dateRangePickerLanguages?e.dateRangePickerLanguages[a.language]:e.dateRangePickerLanguages.default}function ne(t){var a=t.toLowerCase(),n=t in le?le[t]:a in le?le[a]:null,r=e.dateRangePickerLanguages.default;return null==n&&(n=t in r?r[t]:a in r?r[a]:""),n}function re(){var e=a.defaultTime?a.defaultTime:new Date;return a.lookBehind?(a.startDate&&B(e,a.startDate)<0&&(e=W(t(a.startDate).toDate())),a.endDate&&B(e,a.endDate)>0&&(e=t(a.endDate).toDate())):(a.startDate&&B(e,a.startDate)<0&&(e=t(a.startDate).toDate()),a.endDate&&B(W(e),a.endDate)>0&&(e=H(t(a.endDate).toDate()))),a.singleDate&&(a.startDate&&B(e,a.startDate)<0&&(e=t(a.startDate).toDate()),a.endDate&&B(e,a.endDate)>0&&(e=t(a.endDate).toDate())),e}function ie(e){e||(e=re()),a.lookBehind?(z(H(e),"month1"),z(e,"month2")):(z(e,"month1"),z(W(e),"month2")),a.singleDate&&z(e,"month1"),P(),E()}a||(a={}),a=e.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return e(this).val()},setValue:function(t){e(this).attr("readonly")||e(this).is(":disabled")||t==e(this).val()||e(this).val(t)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!1,shortcuts:{},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(e,t,a){return e>1?e+" "+ne("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(e){return t(e).format("w")},customOpenAnimation:null,customCloseAnimation:null,customArrowPrevSymbol:null,customArrowNextSymbol:null},a),a.start=!1,a.end=!1,a.startWeek=!1,a.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,a.isTouchDevice&&(a.hoveringTooltip=!1),"auto"==a.singleMonth&&(a.singleMonth=e(window).width()<480),a.singleMonth&&(a.stickyMonths=!1),a.showTopbar||(a.autoClose=!0),a.startDate&&"string"==typeof a.startDate&&(a.startDate=t(a.startDate,a.format).toDate()),a.endDate&&"string"==typeof a.endDate&&(a.endDate=t(a.endDate,a.format).toDate());var se,oe,le=ae(),de=!1,ue=this,ce=e(ue).get(0),me=0,pe=0;return e(this).unbind(".datepicker").bind("click.datepicker",function(e){var t=se.is(":visible");t||o(a.duration)}).bind("change.datepicker",function(e){l()}).bind("keyup.datepicker",function(){try{clearTimeout(oe)}catch(e){}oe=setTimeout(function(){l()},2e3)}),r.call(this),a.alwaysOpen&&o(0),e(this).data("dateRangePicker",{setStart:function(e){return"string"==typeof e&&(e=t(e,a.format).toDate()),a.end=!1,_(e),this},setEnd:function(e,n){var r=new Date;return r.setTime(a.start),"string"==typeof e&&(e=t(e,a.format).toDate()),O(r,e,n),this},setDateRange:function(e,n,r){"string"==typeof e&&"string"==typeof n&&(e=t(e,a.format).toDate(),n=t(n,a.format).toDate()),O(e,n,r)},clear:f,close:A,open:o,redraw:N,getDatePicker:s,resetMonthsView:ie,destroy:function(){e(ue).unbind(".datepicker"),e(ue).data("dateRangePicker",""),e(ue).data("date-picker-opened",null),se.remove(),e(window).unbind("resize.datepicker",i),e(document).unbind("click.datepicker",A)}}),e(window).bind("resize.datepicker",i),this}}),function(e){function t(t){var a=e.formatCurrency.regions[t];if(a)return a;if(/(\w+)-(\w+)/g.test(t)){var n=t.replace(/(\w+)-(\w+)/g,"$1");return e.formatCurrency.regions[n]}return null}function a(e){switch(e.toLowerCase()){case"int":return"Int";case"float":return"Float";default:throw"invalid parseType"}}function n(e){if(""===e.symbol)return new RegExp("[^\\d"+e.decimalSymbol+"-]","g");var t=e.symbol.replace("$","\\$").replace(".","\\.");return new RegExp(t+"|[^\\d"+e.decimalSymbol+"-]","g")}e.formatCurrency={},e.formatCurrency.regions=[],e.formatCurrency.regions[""]={symbol:"",positiveFormat:"%s%n",negativeFormat:"(%s%n)",decimalSymbol:".",digitGroupSymbol:",",groupDigits:!0},e.fn.formatCurrency=function(a,r){1==arguments.length&&"string"!=typeof a&&(r=a,a=!1);var i={name:"formatCurrency",colorize:!1,region:"",global:!0,roundToDecimalPlace:2,eventOnDecimalsEntered:!1};return i=e.extend(i,e.formatCurrency.regions[""]),r=e.extend(i,r),r.region.length>0&&(r=e.extend(r,t(r.region))),r.regex=n(r),this.each(function(){$this=e(this);var t="0";if(t=$this[$this.is("input, select, textarea")?"val":"html"](),t.search("\\(")>=0&&(t="-"+t),""!==t&&("-"!==t||r.roundToDecimalPlace!==-1)){if(isNaN(t)){if(t=t.replace(r.regex,""),""===t||"-"===t&&r.roundToDecimalPlace===-1)return;"."!=r.decimalSymbol&&(t=t.replace(r.decimalSymbol,".")),isNaN(t)&&(t="0")}var n=String(t).split("."),i=t==Math.abs(t),s=n.length>1,o=s?n[1].toString():"0",l=o;if(t=Math.abs(n[0]),t=isNaN(t)?0:t,r.roundToDecimalPlace>=0&&(o=parseFloat("1."+o),o=o.toFixed(r.roundToDecimalPlace),"2"==o.substring(0,1)&&(t=Number(t)+1),o=o.substring(2)),t=String(t),r.groupDigits)for(var d=0;d<Math.floor((t.length-(1+d))/3);d++)t=t.substring(0,t.length-(4*d+3))+r.digitGroupSymbol+t.substring(t.length-(4*d+3));(s&&r.roundToDecimalPlace==-1||r.roundToDecimalPlace>0)&&(t+=r.decimalSymbol+o);var u=i?r.positiveFormat:r.negativeFormat,c=u.replace(/%s/g,r.symbol);c=c.replace(/%n/g,t);var m=e([]);m=a?e(a):$this,m[m.is("input, select, textarea")?"val":"html"](c),s&&r.eventOnDecimalsEntered&&l.length>r.roundToDecimalPlace&&m.trigger("decimalsEntered",l),r.colorize&&m.css("color",i?"black":"red")}})},e.fn.toNumber=function(a){var r=e.extend({name:"toNumber",region:"",global:!0},e.formatCurrency.regions[""]);return a=jQuery.extend(r,a),a.region.length>0&&(a=e.extend(a,t(a.region))),a.regex=n(a),this.each(function(){var t=e(this).is("input, select, textarea")?"val":"html";e(this)[t](e(this)[t]().replace("(","(-").replace(a.regex,""))})},e.fn.asNumber=function(r){var i=e.extend({name:"asNumber",region:"",parse:!0,parseType:"Float",global:!0},e.formatCurrency.regions[""]);r=jQuery.extend(i,r),r.region.length>0&&(r=e.extend(r,t(r.region))),r.regex=n(r),r.parseType=a(r.parseType);var s=e(this).is("input, select, textarea")?"val":"html",o=e(this)[s]();return o=o?o:"",o=o.replace("(","(-"),o=o.replace(r.regex,""),r.parse?(0==o.length&&(o="0"),"."!=r.decimalSymbol&&(o=o.replace(r.decimalSymbol,".")),window["parse"+r.parseType](o)):o}}(jQuery);var translationsConfigObject={en:{shared:{lnrHeaderText:"The perfect bike. Simply rent it.",hello:"Hello",print:"Print Page",here:"here"},tabs:{tabDuration:"1.&nbsp;Duration",tabBasicInfo:"2.&nbsp;Info",tabPaymentDetail:"3.&nbsp;Payment",tabBookingOverview:"4.&nbsp;Booking"},durationPanel:{info:"Please mark rent period:",from:"From",to:"To",selectDaysFirst:"Please select the days first"},info:{title:"Alright",titleEmpty:"Alright,",description:"Please provide your name and email address. Make sure your email address is valid as we'll send your booking confirmation to it.<br><br>No worries, your data is safe.",firstName:"Firstname",lastName:"Lastname",email:"Email Address",emailRepeat:"Repeat Email",invalidForm:"It seems like there's invalid data in the form.",errorTitle:"Oups",errorDescription:"The email address seems to be invalid or you're already signed up at listnride! In latter case, you can book the bike directly on our platform through this link, "},payment:{title:"How would you like to pay?",description:"Choose between Paypal or Credit Card and simply enter the details. All information will get transferred securely.",cardholderName:"Cardholder Name",cardNumber:"Card Number",payPal:"PayPal",creditCard:"Credit Card",expiry:"Expires",CVV:"CVV",save:"Save Data",titleError:"Oh no!",descriptionError:"Your payment data seems to be invalid, because:"},rental:{title:"Hey there!",description:"Booking the bike is simple and secure! First, select from when to when you want to book it using the calendar.",duration:"Duration",fee:"Fee (incl. tax)",total:"Total",subtotal:"Subtotal",day:"day",days:"days",hour:"hour",hours:"hours",week:"week",weeks:"weeks"},overview:{title:"Just one more click!",description:"Simply check again all your data and click the 'Book' Button below to book the bike. You'll get a booking confirmation via email, including all contact data like address and phone number.",titleSuccess:"Congratulations!",descriptionSuccess:"You've successfully booked the bike. We've send you a booking confirmation containing all informations to your email address.",errorTitle:"Ushh..",errorDescription:"Something went wrong with your booking",bike:"Bike",name:"Name",lister:"Lister",location:"Location"},navigation:{back:"Back",next:"Next",book:"Book"}},de:{shared:{lnrHeaderText:"Das perfekte Rad. Einfach mieten.",hello:"Hallo",print:"Seite Drucken",here:"hier"},tabs:{tabDuration:"Dauer",tabBasicInfo:"Info",tabPaymentDetail:"Zahlung",tabBookingOverview:"&Uuml;bersicht"},durationPanel:{from:"Von",to:"Bis",selectDaysFirst:"Bitte zuerst die Tage selektieren"},info:{title:"Perfekt",titleEmpty:"Perfekt,",description:"Gib nun deinen Namen und Email-Adresse an. Stell sicher dass die Email stimmt, da wir die Buchungsbest&auml;tigung dorthin senden.<br><br>Keine Sorge, deine Daten sind sicher.",firstName:"Vorname",lastName:"Nachname",email:"Email-Adresse",emailRepeat:"Email-Adresse wiederholen",invalidForm:"Das Formular scheint nicht ganz korrekt ausgef&uuml;llt zu sein.",errorTitle:"Ups!",errorDescription:"Die Email-Addresse ist ung&uuml;ltig oder bereits bei listnride angemeldet! In diesem Fall kannst du das Rad direkt über unsere Plattform buchen, "},payment:{title:"Wie w&uuml;rdest du gerne zahlen?",description:"W&auml;hle zwischen Paypal und Kreditkarte. Alle Informationen werden sicher &uuml;bertragen.",cardholderName:"Karteninhaber",cardNumber:"Kartennummer",payPal:"PayPal",creditCard:"Kreditkarte",expiry:"G&uuml;ltig bis",CVV:"CVV",save:"Save Data",titleError:"Oh nein!",descriptionError:"Deine Zahlungsdaten scheinen ung&uuml;ltig zu sein, denn:"},rental:{title:"Hallo!",description:"Fahrr&auml;der buchen ist einfach und sicher. W&auml;hle zuerst mittels des Kalenders von wann bis wann du das Rad mieten m&ouml;chtest.",duration:"Dauer",fee:"Geb&uuml;hr (inkl. MwSt.)",total:"Ingesamt",subtotal:"Zwischensumme",day:"Tag",days:"Tage",hour:"Stunde",hours:"Stunden",week:"Woche",weeks:"Wochen"},overview:{title:"Nur noch ein Klick!",description:"&Uuml;berpr&uuml;fe nochmals deine Daten und klicke auf 'Buchen' um das Rad zu buchen. Wir schicken dir eine Buchungsbest&auml;tigung via Email, mit weiteren Kontaktdaten wie Adresse und Telefonnummer.",titleSuccess:"Gl&uuml;ckwunsch!",descriptionSuccess:"Du hast das Fahrrad erfolgreich gebucht. Wir haben dir soeben eine Buchungsbest&auml;tigung mit s&auml;mtlichen Informationen an deine Email-Adresse geschickt.",errorTitle:"Ushh..",errorDescription:"Something went wrong with your booking",bike:"Fahrrad",name:"Name",lister:"Vermieter",location:"Ort"},navigation:{back:"Zur&uuml;ck",next:"Weiter",book:"Buchen"}},nl:{shared:{lnrHeaderText:"The perfect bike. Simply rent it.",hello:"Hello",print:"Print Page",here:"here"},tabs:{tabDuration:"Duration",tabBasicInfo:"User Info",tabPaymentDetail:"Payment Details",tabBookingOverview:"Booking Overview"},durationPanel:{info:"Please mark rent period:",from:"From",to:"To",selectDaysFirst:"Please select the days first"},info:{title:"Alright",titleEmpty:"Alright,",description:"Please provide your name and email address. Make sure your email address is valid as we'll send your booking confirmation to it.<br><br>No worries, your data is safe.",firstName:"Firstname",lastName:"Lastname",email:"Email Address",emailRepeat:"Repeat Email",invalidForm:"Please correct input fields",errorTitle:"Oups",errorDescription:"The email address seems to be invalid or you're already signed up at listnride! In latter case, you can book the bike directly on our platform through this link, "},payment:{title:"How would you like to pay?",description:"Choose between Paypal or Credit Card and simply enter the details. All information will get transferred securely.",cardholderName:"Cardholder Name",cardNumber:"Card Number",payPal:"PayPal",creditCard:"Credit Card",expiry:"Expires",CVV:"CVV",save:"Save Data",titleError:"Oh no!",descriptionError:"Your payment data seems to be invalid, because:"},rental:{title:"Hey there!",description:"Booking the bike is simple and secure! First, select from when to when you want to book it using the calendar.",duration:"Duration",fee:"Fee (incl. tax)",total:"Total",subtotal:"Subtotal",days:"Days",hours:"Hours"},overview:{title:"Just one more click!",description:"Simply check again all your data and click the 'Book' Button below to book the bike. You'll get a booking confirmation via email, including all contact data like address and phone number.",titleSuccess:"Congratulations!",descriptionSuccess:"You've successfully booked the bike. We've send you a booking confirmation containing all informations to your email address.",errorTitle:"Ushh..",errorDescription:"Something went wrong with your booking",bike:"Bike",name:"Name",lister:"Lister",location:"Location"},navigation:{back:"Back",next:"Next",book:"Book"}}},$,calendar={},payment={date:"Month",year:"Year"},translations,user={id:null,hasPaymentMethod:!1},date=new DateService,apiUrl="";$(document).ready(function(){apiUrl="production"===env?"https://api.listnride.com/v2":"https://listnride-staging.herokuapp.com/v2",helper.preInit(),$.get(apiUrl+"/users/"+userId,function(e){calendar.bikeOwner=e,$.get(apiUrl+"/rides/"+bikeId,function(e){calendar.bikeId=bikeId,calendar.priceHalfDay=e.price_half_daily,calendar.priceDay=e.price_daily,calendar.priceWeek=e.price_weekly,calendar.bikeFamily=e.family,calendar.requests=e.requests,calendar.userId=e.user.id,$("#bike_picture").attr("src",e.image_file_1.image_file_1.small.url),$("#overview_bike").text(e.brand+", "+helper.categoryName(e.category)),$("#overview_name").text(e.name),$("#overview_lister").text(e.user.first_name+" "+e.user.last_name),$("#overview_location").text(e.user.city),helper.postInit()})})}),calendar.initCalendarPicker=function(){void 0!==calendar.requests&&(calendar.owner=calendar.userId,2!=calendar.bikeFamily&&9!=calendar.bikeFamily||calendar.event.reserved(),$("#bike-calendar").dateRangePicker(helper.calenderConfigObject).bind("datepicker-change",function(e,t){var a=t.date1;a.setHours(calendar.startTime,0,0,0);var n=t.date2;n.setHours(calendar.endTime,0,0,0),calendar.startDate=a,calendar.endDate=n,calendar.dateChange(calendar.startDate,calendar.endDate),calendar.openingHoursAvailable()&&calendar.setInitHours(),$(".dropdown-calendar *").attr("disabled",!1),$(".dropdown-payment *").attr("disabled",!1)}))},calendar.getWeekDay=function(e){var t=e.getDay()-1;return t==-1&&(t=6),t},calendar.openHours=function(e){var t=[];return $.each(e,function(e,a){var n=a.start_at/3600,r=a.duration/3600+n+1;$.merge(t,_.range(n,r))}),t},calendar.setInitHours=function(){var e=calendar.bikeOwner.opening_hours.hours[calendar.getWeekDay(calendar.startDate)],t=calendar.bikeOwner.opening_hours.hours[calendar.getWeekDay(calendar.endDate)];e=calendar.openHours(e),t=calendar.openHours(t),calendar.startTime=e[0],calendar.endTime=t[t.length-1]},calendar.classifyDate=function(e){e.setHours(0,0,0,0);var t=new Date;return t.setHours(0,0,0,0),e.getTime()<t.getTime()?[!1,"date-past",""]:calendar.isReserved(e)?[!1,"date-reserved",""]:calendar.dateClosed(e)?[!1,"date-closed",""]:[!0,"date-available",""]},calendar.dateClosed=function(e){return!!calendar.openingHoursAvailable()&&null==calendar.bikeOwner.opening_hours.hours[calendar.getWeekDay(e)]},calendar.openingHoursAvailable=function(){var e=calendar.bikeOwner&&calendar.bikeOwner.opening_hours&&calendar.bikeOwner.opening_hours.enabled&&_.some(calendar.bikeOwner.opening_hours.hours,Array);return e},calendar.isReserved=function(e){for(var t=0;t<calendar.requests.length;++t){var a=new Date(calendar.requests[t].start_date);a.setHours(0,0,0,0);var n=new Date(calendar.requests[t].end_date);if(n.setHours(0,0,0,0),a.getTime()<=e.getTime()&&e.getTime()<=n.getTime())return!0}return!1},calendar.initOverview=function(){calendar.startTime=10,calendar.endTime=18,calendar.duration=date.duration(void 0,void 0),calendar.subtotal=0,calendar.lnrFee=0,calendar.total=0,calendar.formValid=!1,calendar.datesValid=!1},calendar.dateChange=function(e,t){if(calendar.isDateInvalid())calendar.duration=date.duration(void 0,void 0,0),calendar.subtotal=0,calendar.lnrFee=0,calendar.total=0;else{var a=countInvalidDays(e,t);if(calendar.duration=date.duration(e,t,a),2==calendar.bikeFamily||9==calendar.bikeFamily)var n=date.subtotal(e,t,calendar.priceHalfDay,calendar.priceDay,calendar.priceWeek,4,a);else var n=date.subtotal(e,t,calendar.priceHalfDay,calendar.priceDay,calendar.priceWeek,null,a);
var r=.125*n,i=.19*r;calendar.subtotal=n,calendar.lnrFee=r+i,calendar.total=n+r+i}helper.onDateChange(e,t,calendar)},calendar.availabilityMessage=function(e,t){return calendar.isOptionEnabled(e,t)?"":" (closed)"},calendar.isOptionEnabled=function(e,t){if(void 0==t||!calendar.openingHoursAvailable())return!0;var a=calendar.bikeOwner.opening_hours.hours[calendar.getWeekDay(t)];if(null!==a){var n=calendar.openHours(a);return n.includes(e+6)}return!1},calendar.isDateInvalid=function(){return void 0!==calendar.startDate&&calendar.startDate.getTime()>=calendar.endDate.getTime()},calendar.isFormInvalid=function(){return void 0===calendar.bikeId||void 0===calendar.startDate||void 0!==calendar.startDate&&calendar.startDate.getTime()>=calendar.endDate.getTime()},calendar.onTimeChange=function(e){var t=e+"Date",a=e+"Time",n=new Date(calendar[t]);n.setHours(calendar[a],0,0,0),calendar[t]=n,calendar.dateChange(calendar.startDate,calendar.endDate)};var api={signup:function(e){if(null==user.id){var t={user:{first_name:$("#form_first_name").val(),last_name:$("#form_last_name").val(),email:$("#form_email").val()}};$.post({url:apiUrl+"/users",data:t,success:function(t){$(".info-description").show(),$(".info-error").hide();var a=api.base64Encode(t.email+":"+t.password_hashed);user.auth="Basic "+a,user.id=t.id,e()},error:function(){$(".info-description").hide(),$(".info-error").show(),$(".platform-link").attr("href","http://www.listnride.com/bikes/"+calendar.bikeId)}})}else e()},createRequest:function(){var e={request:{user_id:user.id,ride_id:calendar.bikeId,start_date:calendar.startDate,end_date:calendar.endDate,instant:!0}};$.post({url:apiUrl+"/requests",data:e,beforeSend:function(e){e.setRequestHeader("Authorization",user.auth)},success:function(){$("#lnr-next-button-tab-booking-overview").hide(),$(".lnr-print-button").show(),$("#lnr-back-button-tab-booking-overview").hide(),$(".overview-description").hide(),$(".overview-error").hide(),$(".overview-success").show()},error:function(e){e.responseJSON?$(".overview-error-description").text(e.responseJSON.errors[0].detail):e.statusText&&$(".overview-error-description").text(e.statusText),$(".overview-description").hide(),$(".overview-error").show()}})},base64Encode:function(e){var t,a,n,r,i,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="",l="",d="",u=0;do t=e.charCodeAt(u++),a=e.charCodeAt(u++),l=e.charCodeAt(u++),n=t>>2,r=(3&t)<<4|a>>4,i=(15&a)<<2|l>>6,d=63&l,isNaN(a)?i=d=64:isNaN(l)&&(d=64),o=o+s.charAt(n)+s.charAt(r)+s.charAt(i)+s.charAt(d),t=a=l="",n=r=i=d="";while(u<e.length);return o}},helper={calenderConfigObject:{alwaysOpen:!0,container:"#bike-calendar",beforeShowDay:calendar.classifyDate,inline:!0,selectForward:!0,showShortcuts:!1,showTopbar:!1,singleMonth:!0,startOfWeek:"monday"},lang:navigator.language.split("-")[0].toLowerCase(),translationsConfigObject:translationsConfigObject,removeCalendarBusyLoader:function(){return $("#bike-calendar-loader").remove(),this},accessProperty:function(e,t){t=t.split(".");for(var a=0,n=t.length;a<n;a+=1)e=e[t[a]];return e},getCurrencyFormat:function(){switch(helper.lang){case"en":return{regions:"en",colorize:!1,decimalSymbol:".",digitGroupSymbol:","};case"de":return{regions:"de",colorize:!1,decimalSymbol:",",digitGroupSymbol:"."};case"nl":return{colorize:!1,decimalSymbol:",",digitGroupSymbol:"."}}},getTranslations:function(){switch(helper.lang){case"en":translations=this.translationsConfigObject.en;break;case"de":translations=this.translationsConfigObject.de}return this},applyTranslations:function(){return $("[translate]").each(function(){var e=$(this),t=e.attr("translate");e.html(helper.accessProperty(translations,t))}),this},getUrlParameter:function(e){for(var t=decodeURIComponent(window.location.search.substring(1)),a=t.split("&"),n=0;n<a.length;n+=1){var r=a[n].split("=");if(r[0]===e)return void 0===r[1]||r[1]}},onDateChange:function(e,t,a){$("*[id*=lnr-calendar-duration]").each(function(e,t){$(t).html(a.duration)}),$("*[id*=lnr-calendar-subtotal]").each(function(e,t){var n=$(t);n.html(a.subtotal).formatCurrency(helper.getCurrencyFormat()),n.append(" &euro;")}),$("*[id*=lnr-calendar-fee]").each(function(e,t){var n=$(t);n.html(a.lnrFee).formatCurrency(helper.getCurrencyFormat()),n.append(" &euro;")}),$("*[id*=lnr-calendar-total]").each(function(e,t){var n=$(t);n.html(a.total).formatCurrency(helper.getCurrencyFormat()),n.append(" &euro;")}),$("[id=lnr-date-start]").each(function(t,a){$(a).html("from "+e.getDate()+"."+e.getMonth()+"."+e.getFullYear())}),$(".rental-info-from").text(e.getDate()+"."+e.getMonth()+"."+e.getFullYear()+", "+a.startTime+":00"),$(".rental-info-to").text(t.getDate()+"."+t.getMonth()+"."+t.getFullYear()+", "+a.endTime+":00"),$("#lnr-date-start-button").attr("title",""),$("#lnr-date-end-button").attr("title",""),$("[id=lnr-date-end]").each(function(e,a){$(a).html("to "+t.getDate()+"."+t.getMonth()+"."+t.getFullYear())})},nextTab:function(e){switch(e.id){case"tab-basic-info":helper.changeTab(e);break;case"tab-payment-details":api.signup(function(){helper.changeTab(e)});break;case"tab-booking-overview":break;case"tab-duration":api.createRequest()}},changeTab:function(e){document.getElementById(e.id).click()},openCalendarDropDown:function(e,t){var a="lnr-date-from-dropdown",n="lnr-date-to-dropdown",r=$("#"+e);r.html("");for(var i=0;i<17;i+=1)r.append('<div class="lnr-date-selector" onclick="helper.onTimeValueSelect('+parseInt(i+6)+", "+t+')" + id="lnr-date-from-select-"'+i+"><span>"+(i+6)+":00"+calendar.availabilityMessage(i,calendar.endDate)+"</span></div>");e===a?($("#"+n).removeClass("show"),r.toggleClass("show")):e===n&&($("#"+a).removeClass("show"),r.toggleClass("show"))},openExpirationDropdown:function(e,t){var a="lnr-payment-date-dropdown",n="lnr-payment-year-dropdown",r=$("#"+e);if(r.html(""),"'date'"==t)for(var i=1;i<=12;i+=1)r.append('<div class="lnr-date-selector" onclick="helper.onExpirationValueSelect('+i+","+t+')">'+parseInt(i)+"</div>");else if("'year'"==t)for(var s=(new Date).getFullYear(),o=s;o<=s+10;o+=1)r.append('<div class="lnr-date-selector" onclick="helper.onExpirationValueSelect('+o+","+t+')">'+parseInt(o)+"</div>");e===a?($("#"+n).removeClass("show"),r.toggleClass("show")):e===n&&($("#"+a).removeClass("show"),r.toggleClass("show"))},onTimeValueSelect:function(e,t){var a=t+"Time";calendar[a]=e,calendar.onTimeChange(t),helper.updateTimeRangeText()},onExpirationValueSelect:function(e,t){payment[t]=parseInt(e),helper.updatePaymentExpirationText()},showCreditCardForm:function(){$("#sp-payment-form").show()},renderRentalInfo:function(){var e=$("rental-info"),t='<ul class="lnr-list-sm mdl-list"><li class="mdl-list__item"><span style="flex: 50;" class="mdl-list__item-primary-content md-title-sm" translate="durationPanel.from"></span><span align="right" class="rental-info-from mdl-list__item-primary-content md-subhead-sm" id="lnr-calendar-subtotal">-</span></li><li class="mdl-list__item"><span style="flex: 50;" class="mdl-list__item-primary-content md-title-sm" translate="durationPanel.to"></span><span align="right" class="rental-info-to mdl-list__item-primary-content md-subhead-sm" id="lnr-calendar-subtotal">-</span></li><li class="mdl-list__item"><span style="flex: 50;" class="mdl-list__item-primary-content md-list-compact md-title-sm" translate="rental.duration"></span><span align="right" class="mdl-list__item-primary-content md-list-compact md-subhead-sm" id="lnr-calendar-duration">-</span></li><lnr-vertical-divider></lnr-vertical-divider><li class="mdl-list__item"><span style="flex: 50;" class="mdl-list__item-primary-content md-title-sm" translate="rental.fee"></span><span align="right" class="mdl-list__item-primary-content md-subhead-sm" id="lnr-calendar-fee">0 &euro;</span></li><li class="mdl-list__item"><span style="flex: 50;" class="mdl-list__item-primary-content md-title-sm" translate="rental.total"></span><span align="right" class="mdl-list__item-primary-content md-subhead-sm" id="lnr-calendar-total">0 &euro;</span></li></ul>';return e.replaceWith(t),this},renderNavButtons:function(){var e=$("nav-buttons");return e.each(function(){var e=$(this),t=e.attr("current-tab"),a=e.attr("back-tab"),n=e.attr("next-tab"),r=e.attr("back-text"),i=e.attr("next-text"),s='<div class="lnr-button-bar mdl-grid"><div class="lnr-button-cell mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone wizard-nav-button">';s=a?s.concat('<button id="lnr-back-button-'+t+'" onclick="helper.changeTab({id: '+a+'})"').concat('class="md-accent md-raised md-button md-ink-ripple lnr-back-button"><span translate="'+r+'"></span></button></div>'):s.concat("</div>"),s=s.concat('<div class="mdl-layout-spacer"></div><div align="right" class="lnr-button-cell mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone wizard-nav-button">').concat('<button onclick="window.print()" class="lnr-print-button lnr-back-button md-raised md-button md-ink-ripple"><span translate="shared.print"></span></button>'),s=n?s.concat('<button id="lnr-next-button-'+t+'" onclick="helper.nextTab({id: '+n+'})" class="md-accent md-raised md-button md-ink-ripple"><span translate="').concat(i+'"></span></button></div>'):s.concat("</div>"),s=s.concat("</div>"),e.replaceWith(s)}),this},categoryName:function(e){switch(e){case 10:return"dutch-bike";case 11:return"touring-bike";case 12:return"fixie";case 13:return"single-speed";case 20:return"road-bike";case 21:return"triathlon";case 22:return"indoor";case 30:return"trecking";case 31:return"enduro";case 32:return"freeride";case 33:return"cross-country";case 34:return"downhill";case 35:return"cyclocross";case 40:return"city";case 41:return"all-terrain";case 42:return"road";case 50:return"pedelec";case 51:return"e-bike";case 60:return"folding-bike";case 61:return"tandem";case 62:return"cruiser";case 63:return"cargo-bike";case 64:return"recumbent";case 65:return"mono-bike";default:return""}},preInit:function(){window.onclick=helper.closeDropDown,helper.getTranslations().renderRentalInfo().renderNavButtons().applyTranslations(),$(".dropdown-calendar *").attr("disabled","disabled").off("click"),$("#sp-payment-form").hide(),$(".info-title").hide(),$(".info-error").hide(),$(".overview-error").hide(),$(".payment-error").hide(),$(".user-info-validation").hide(),$(".payment-info-validation").hide(),$(".overview-success").hide(),$(".lnr-print-button").hide(),$("#form_email_repeat").on("paste",function(e){e.preventDefault()}),$("#lnr-date-start-button").attr("title",translations.durationPanel.selectDaysFirst),$("#lnr-date-end-button").attr("title",translations.durationPanel.selectDaysFirst),$("#form_first_name").keyup(function(){var e=$("#form_first_name").val();e?($(".info-title-empty").hide(),$(".info-title").show(),$(".first-name-text").text(e+",")):($(".info-title").hide(),$(".info-title-empty").show(),$(".first-name-text").text(e))}),$("#lnr-next-button-tab-duration").prop("disabled",!0)},postInit:function(){calendar.initOverview(),helper.removeCalendarBusyLoader(),calendar.initCalendarPicker(),helper.updateTimeRangeText(),helper.updatePaymentExpirationText()},updateTimeRangeText:function(){var e=$("#lnr-date-start-button"),t=$("#lnr-date-end-button");e.html(calendar.startTime+':00 <div class="dropdown-caret" style="float: right"></div>'),t.html(calendar.endTime+':00 <div class="dropdown-caret" style="float: right"></div>')},updatePaymentExpirationText:function(){var e=$("#lnr-payment-date-button"),t=$("#lnr-payment-year-button");e.html(payment.date+'<div class="dropdown-caret" style="float: right"></div>'),t.html(payment.year+'<div class="dropdown-caret" style="float: right"></div>')},closeDropDown:function(e){if(!e.target.matches(".lnr-dropdown-button"))for(var t=document.getElementsByClassName("dropdown-content"),a=0;a<t.length;a+=1){var n=t[a];n.classList.contains("show")&&n.classList.remove("show")}}};$(function(){$("#lnr-next-button-tab-duration").prop("disabled",!0)});var userFormOverview={form_first_name:!1,form_last_name:!1,form_email:!1,form_email_repeat:!1,valid:!1};$(function(){$("#lnr-next-button-tab-basic-info").prop("disabled",!0),$("#user-info").on("keyup",function(){userInputErrorAny()}),$("#form_first_name").on("blur",function(){userButtonValidator(this.id,!0),validateField(this.id,"#user"),userInputErrorAny()}),$("#form_last_name").on("blur",function(){userButtonValidator(this.id,!0),validateField(this.id,"#user"),userInputErrorAny()}),$("#form_email").on("blur",function(){validateField(this.id,"#user"),checkEmailRegexp(this.id),compareFullEmail()}),$("#form_email").on("keyup change",function(){compareEmailOnFly()}),$("#form_email_repeat").on("blur",function(){validateField(this.id,"#user"),checkEmailRegexp(this.id),compareFullEmail()}),$("#form_email_repeat").on("keyup change",function(){compareEmailOnFly()})});var paymentFormOverview={"sp-payment-cardholder":!1,"sp-payment-cardnumber":!1,"sp-payment-cvv":!1,valid:!1};$(function(){$("#sp-button-paypal").on("click",function(){removeFieldError($("#sp-payment-cardholder")),removeFieldError($("#sp-payment-cardnumber")),removeFieldError($("#sp-payment-cvv")),paymentInputErrorAny()})}),$(function(){$("#lnr-next-button-tab-payment-details").prop("disabled",!0),$("#sp-payment-form").on("keyup",function(){paymentInputErrorAny()}),$("#sp-payment-cardholder").on("keyup blur",function(){paymentButtonValidator(this.id,!0),validateField(this.id,"#payment"),paymentInputErrorAny()}),$("#sp-payment-cardnumber").on("keyup blur",function(){paymentButtonValidator(this.id,!0),validateField(this.id,"#payment"),paymentInputErrorAny()}),$("#sp-payment-cvv").on("keyup blur",function(){paymentButtonValidator(this.id,!0),validateField(this.id,"#payment"),paymentInputErrorAny(),this.value.length>4&&(this.value=this.value.slice(0,4))})}),MaterialTextfield.prototype.checkValidity=function(){this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.getElementsByTagName("input")[0].value.length>0&&this.element_.classList.add(this.CssClasses_.IS_INVALID)};